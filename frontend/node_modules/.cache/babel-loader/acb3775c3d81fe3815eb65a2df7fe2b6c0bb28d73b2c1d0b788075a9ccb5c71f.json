{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./App.css\";import\"./Dashboard.css\";// Import the new Dashboard CSS\nimport{BrowserRouter as Router,Routes,Route,Navigate,useNavigate}from'react-router-dom';import{AuthProvider}from'./AuthContext';import{useAuth}from'./AuthContext';import Auth from'./Auth';import LandingPage from'./LandingPage';import Logo from'./RG_logo.jpg';// Import the logo\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=\"http://localhost:8000\";// Add default responses\nconst DEFAULT_RESPONSES={qualifiedSkills:[\"Communication Skills\",\"Team Collaboration\",\"Problem Solving\",\"Time Management\",\"Adaptability\"],missingSkills:[\"Advanced Technical Skills\",\"Industry-specific Knowledge\",\"Leadership Experience\",\"Project Management\",\"Specialized Certifications\"],analysis:\"Based on the resume and job description analysis, there are several areas where your profile aligns well with the position, and some areas where additional development could enhance your candidacy. Focus on developing the missing skills while highlighting your existing strengths in your application.\"};// Add helper function to validate and clean skills\nconst cleanSkillsList=skills=>{if(!Array.isArray(skills))return[];return skills.map(skill=>skill.trim()).filter(skill=>skill&&skill.length>2).filter(skill=>!skill.toLowerCase().includes('skills')&&!skill.toLowerCase().includes('analysis'));};// Add helper function to validate analysis text\nconst cleanAnalysisText=text=>{if(!text||typeof text!=='string')return DEFAULT_RESPONSES.analysis;const cleaned=text.trim();return cleaned.length>50?cleaned:DEFAULT_RESPONSES.analysis;};// Add match score calculation function\nconst calculateMatchScore=(resumeText,jobDescriptionText)=>{try{// Convert texts to lowercase for case-insensitive matching\nconst resume=resumeText.toLowerCase();const jobDesc=jobDescriptionText.toLowerCase();// Define scoring weights\nconst weights={skills:0.4,experience:0.3,education:0.2,keywords:0.1};// Extract and match skills\nconst commonSkills=extractSkills(resume).filter(skill=>jobDesc.includes(skill.toLowerCase()));const totalSkills=extractSkills(jobDesc);const skillsScore=totalSkills.length>0?commonSkills.length/totalSkills.length*weights.skills*100:0;// Extract and match experience\nconst experienceScore=calculateExperienceScore(resume,jobDesc)*weights.experience*100;// Extract and match education\nconst educationScore=calculateEducationScore(resume,jobDesc)*weights.education*100;// Match keywords\nconst keywordsScore=calculateKeywordsScore(resume,jobDesc)*weights.keywords*100;// Calculate final score\nconst finalScore=Math.round(skillsScore+experienceScore+educationScore+keywordsScore);return{score:finalScore.toString(),breakdown:{skills:Math.round(skillsScore),experience:Math.round(experienceScore),education:Math.round(educationScore),keywords:Math.round(keywordsScore)}};}catch(error){console.error('Error calculating match score:',error);return{score:'0',breakdown:{skills:0,experience:0,education:0,keywords:0}};}};// Helper function to extract skills\nconst extractSkills=text=>{const commonSkills=['javascript','python','java','c++','c#','ruby','php','react','angular','vue','node.js','express','django','flask','spring','sql','mongodb','aws','azure','gcp','docker','kubernetes','git','agile','scrum','ci/cd','machine learning','ai','data science','analytics','project management','leadership','communication'];return commonSkills.filter(skill=>text.includes(skill.toLowerCase()));};// Helper function to calculate experience score\nconst calculateExperienceScore=(resume,jobDesc)=>{const experienceKeywords=['experience','years','worked','job','position','role'];const resumeExp=experienceKeywords.filter(keyword=>resume.includes(keyword)).length;const jobExp=experienceKeywords.filter(keyword=>jobDesc.includes(keyword)).length;return jobExp>0?Math.min(resumeExp/jobExp,1):0;};// Helper function to calculate education score\nconst calculateEducationScore=(resume,jobDesc)=>{const educationKeywords=['bachelor','master','phd','degree','diploma','certification'];const resumeEdu=educationKeywords.filter(keyword=>resume.includes(keyword)).length;const jobEdu=educationKeywords.filter(keyword=>jobDesc.includes(keyword)).length;return jobEdu>0?Math.min(resumeEdu/jobEdu,1):0;};// Helper function to calculate keywords score\nconst calculateKeywordsScore=(resume,jobDesc)=>{const keywords=jobDesc.split(/\\W+/).filter(word=>word.length>4);const matches=keywords.filter(keyword=>resume.includes(keyword.toLowerCase()));return keywords.length>0?matches.length/keywords.length:0;};function PrivateRoute(_ref){let{children}=_ref;const{currentUser}=useAuth();return currentUser?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}function Dashboard(){var _currentUser$email,_currentUser$email2,_result$parsedMatchSc,_result$parsedMatchSc2,_result$parsedMatchSc3,_result$parsedMatchSc4,_result$parsedMatchSc5;const{currentUser,logout}=useAuth();const navigate=useNavigate();const[resumeFile,setResumeFile]=useState(null);const[jobDescFile,setJobDescFile]=useState(null);const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[uploadProgress,setUploadProgress]=useState({resume:0,jobDesc:0});const[questionResponses,setQuestionResponses]=useState({});const[evaluations,setEvaluations]=useState({});const[evaluationLoading,setEvaluationLoading]=useState({});const[loadingMore,setLoadingMore]=useState(false);const[activeTab,setActiveTab]=useState('easy');const[isHovered,setIsHovered]=useState(false);const[isProfileOpen,setIsProfileOpen]=useState(false);const handleLogout=async()=>{try{await logout();// Clear any existing state\nsetResumeFile(null);setJobDescFile(null);setResult(null);setQuestionResponses({});setEvaluations({});// Navigate to landing page\nnavigate('/',{replace:true});}catch(error){console.error('Failed to log out:',error);}};// Add click outside handler to close dropdown\nuseEffect(()=>{const handleClickOutside=event=>{if(isProfileOpen&&!event.target.closest('.user-profile-container')){setIsProfileOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isProfileOpen]);const handleFileChange=(e,fileType)=>{const file=e.target.files[0];if(file){setUploadProgress(prev=>({...prev,[fileType]:0}));const reader=new FileReader();reader.onprogress=event=>{if(event.lengthComputable){const progress=Math.round(event.loaded/event.total*100);setUploadProgress(prev=>({...prev,[fileType]:progress}));}};reader.onload=()=>{if(fileType===\"resume\"){setResumeFile(file);}else if(fileType===\"jobDesc\"){setJobDescFile(file);}setUploadProgress(prev=>({...prev,[fileType]:100}));};// Handle different file types\nif(file.type==='application/pdf'){reader.readAsArrayBuffer(file);}else if(file.type==='application/msword'||file.type==='application/vnd.openxmlformats-officedocument.wordprocessingml.document'){reader.readAsArrayBuffer(file);}else{reader.readAsText(file);}}};const readFileAsText=file=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=e=>resolve(e.target.result);reader.onerror=e=>reject(e);reader.readAsText(file);});};const formatQuestions=questions=>{if(!Array.isArray(questions))return[];return questions.filter(q=>q&&typeof q==='object').filter(q=>{const questionText=q.question||'';return!questionText.toLowerCase().includes('here are')&&!questionText.toLowerCase().includes('rationale:');}).map(q=>({question:q.question.split('Rationale:')[0].trim().replace(/^\\d+\\.\\s*/,''),difficulty:q.difficulty||'medium'}));};const handleSubmit=async e=>{e.preventDefault();if(!resumeFile||!jobDescFile){alert(\"Please upload both files.\");return;}setLoading(true);try{const resumeText=await readFileAsText(resumeFile);const jobDescriptionText=await readFileAsText(jobDescFile);const response=await fetch(`${API_URL}/api/match`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({resumeText,jobDescriptionText})});if(!response.ok){const errorData=await response.json().catch(()=>({}));const errorMessage=errorData.detail||`HTTP error! status: ${response.status}`;// Handle specific error cases\nif(response.status===429){throw new Error(\"API rate limit exceeded. Please wait a moment and try again.\");}else if(response.status===400){throw new Error(errorMessage);}else if(response.status===500){throw new Error(`Server error: ${errorMessage}`);}throw new Error(errorMessage);}const data=await response.json();console.log('Backend /api/match response:',data);// Calculate match score using our new function\nconst matchScoreResult=calculateMatchScore(resumeText,jobDescriptionText);const parsedMatchScore={score:matchScoreResult.score,missingSkills:[],qualifiedSkills:[],analysis:'',breakdown:matchScoreResult.breakdown};if(data.match_score){// Extract missing skills\nconst missingSkillsSection=data.match_score.split(/Missing Skills:|Skills to Develop:/i)[1];if(missingSkillsSection){const skillsText=missingSkillsSection.split(/Qualified Skills:|Compatibility Analysis:|Analysis:/i)[0];const extractedSkills=skillsText.split(/[•\\-\\*]/).map(skill=>skill.trim()).filter(skill=>skill&&!skill.toLowerCase().includes('missing skills')&&!skill.toLowerCase().includes('skills to develop')&&!skill.toLowerCase().includes('qualified skills'));parsedMatchScore.missingSkills=cleanSkillsList(extractedSkills);}// Extract qualified skills\nconst qualifiedSkillsSection=data.match_score.split(/Qualified Skills:|Matching Skills:/i)[1];if(qualifiedSkillsSection){const skillsText=qualifiedSkillsSection.split(/Missing Skills:|Skills to Develop:|Compatibility Analysis:|Analysis:/i)[0];const extractedSkills=skillsText.split(/[•\\-\\*]/).map(skill=>skill.trim()).filter(skill=>skill&&!skill.toLowerCase().includes('qualified skills')&&!skill.toLowerCase().includes('matching skills'));parsedMatchScore.qualifiedSkills=cleanSkillsList(extractedSkills);}const analysisSection=data.match_score.split(/Compatibility Analysis:|Analysis:/i)[1];if(analysisSection){parsedMatchScore.analysis=cleanAnalysisText(analysisSection.split(/[•\\-\\*]/).map(line=>line.trim()).filter(line=>line&&!line.toLowerCase().includes('compatibility analysis')&&!line.toLowerCase().includes('analysis')).join('\\n'));}}// Apply default values if sections are empty\nif(!parsedMatchScore.qualifiedSkills.length){parsedMatchScore.qualifiedSkills=DEFAULT_RESPONSES.qualifiedSkills;}if(!parsedMatchScore.missingSkills.length){parsedMatchScore.missingSkills=DEFAULT_RESPONSES.missingSkills;}if(!parsedMatchScore.analysis){parsedMatchScore.analysis=DEFAULT_RESPONSES.analysis;}setResult({parsedMatchScore,interview_questions:formatQuestions(data.interview_questions)});// Show message if offline fallback was used\nif(data.interview_questions&&data.interview_questions.length>0){console.log(\"Interview questions generated successfully\");}setActiveTab('easy');}catch(error){console.error(\"Error details:\",error);const errorMessage=error.message||\"Failed to process the response. Please try again.\";if(errorMessage.includes(\"rate limit\")){alert(`The system is using offline question generation due to API rate limiting.\\n\\nYou can still practice with the interview questions and get feedback.\\n\\nPlease wait a few minutes before trying again for AI-powered questions.`);}else if(errorMessage.includes(\"quota\")){alert(`API quota exceeded.\\n\\nThe system will use offline question generation for now.\\n\\nPlease check your Gemini API plan and billing if needed.`);}else{alert(errorMessage);}}finally{setLoading(false);}};const handleQuestionResponse=async(questionIndex,response)=>{if(!(response!==null&&response!==void 0&&response.trim())){alert(\"Please provide an answer before submitting.\");return;}setEvaluationLoading(prev=>({...prev,[questionIndex]:true}));try{const resumeText=await readFileAsText(resumeFile);const jobDescriptionText=await readFileAsText(jobDescFile);const[difficulty,index]=questionIndex.split('-');const question=result.interview_questions.filter(q=>q.difficulty===difficulty)[index];if(!question){throw new Error('Question not found');}const evalResponse=await fetch(`${API_URL}/api/evaluate`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({question:question.question,answer:response,resumeText,jobDescriptionText})});if(!evalResponse.ok){const errorData=await evalResponse.text();throw new Error(errorData||\"Failed to get evaluation\");}const evalData=await evalResponse.json();console.log(`Backend /api/evaluate response for question ${questionIndex}:`,evalData);// Log the evaluation response\nconst formattedEvaluation=evalData.evaluation.split('\\n').filter(line=>line.trim()).join('\\n');setEvaluations(prev=>({...prev,[questionIndex]:formattedEvaluation}));}catch(error){console.error(\"Evaluation error:\",error);alert(\"Failed to evaluate response. Please try again.\");}finally{setEvaluationLoading(prev=>({...prev,[questionIndex]:false}));}};const handleLoadMore=async()=>{setLoadingMore(true);try{const resumeText=await readFileAsText(resumeFile);const jobDescriptionText=await readFileAsText(jobDescFile);const response=await fetch(`${API_URL}/api/more-questions`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({resumeText,jobDescriptionText})});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();console.log('Backend /api/more-questions response:',data);// Log the additional questions response\nconst newQuestions=formatQuestions(data.additional_questions);setResult(prev=>({...prev,interview_questions:[...prev.interview_questions,...newQuestions]}));}catch(error){console.error(\"Error loading more questions:\",error);alert(\"Failed to load additional questions. Please try again.\");}finally{setLoadingMore(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"landing-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"dashboard-nav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",onClick:()=>navigate('/'),children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Resume Genie Logo\",className:\"site-logo\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"title\",children:[\"Resume \",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Genie\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",onClick:()=>setIsProfileOpen(!isProfileOpen),children:[/*#__PURE__*/_jsx(\"img\",{src:(currentUser===null||currentUser===void 0?void 0:currentUser.photoURL)||`https://ui-avatars.com/api/?name=${(currentUser===null||currentUser===void 0?void 0:currentUser.displayName)||(currentUser===null||currentUser===void 0?void 0:(_currentUser$email=currentUser.email)===null||_currentUser$email===void 0?void 0:_currentUser$email.split('@')[0])}`,alt:\"Profile\",className:\"user-avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:(currentUser===null||currentUser===void 0?void 0:currentUser.displayName)||(currentUser===null||currentUser===void 0?void 0:(_currentUser$email2=currentUser.email)===null||_currentUser$email2===void 0?void 0:_currentUser$email2.split('@')[0])})]}),isProfileOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-dropdown\",children:/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})})]})})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Upload Documents\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Upload your resume and job description for AI analysis\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"upload-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"upload-label\",children:\"Upload Resume\"}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-box\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"upload-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-placeholder\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"upload-icon\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-text\",children:resumeFile?resumeFile.name:'Click to upload or drag and drop'}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-hint\",children:\"Supports PDF, DOC, DOCX, TXT\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",accept:\".pdf,.doc,.docx,.txt\",onChange:e=>handleFileChange(e,\"resume\")})]})}),uploadProgress.resume>0&&/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${uploadProgress.resume}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"upload-label\",children:\"Upload Job Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-box\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"upload-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-placeholder\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"upload-icon\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-text\",children:jobDescFile?jobDescFile.name:'Click to upload or drag and drop'}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-hint\",children:\"Supports PDF, DOC, DOCX, TXT\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",accept:\".pdf,.doc,.docx,.txt\",onChange:e=>handleFileChange(e,\"jobDesc\")})]})}),uploadProgress.jobDesc>0&&/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${uploadProgress.jobDesc}%`}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!resumeFile||!jobDescFile,className:\"cta-button\",onMouseEnter:()=>setIsHovered(true),onMouseLeave:()=>setIsHovered(false),children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"loading-spinner\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Analyzing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Analyze Resume\",/*#__PURE__*/_jsx(\"span\",{className:`arrow ${isHovered?'arrow-hover':''}`,children:\"\\u2192\"})]})})})]})})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Analysis Results\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Your personalized resume analysis and interview preparation\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"analysis-tabs\",children:/*#__PURE__*/_jsx(\"div\",{className:\"analysis-tab active\",children:\"Resume-Job Match Analysis\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"match-score-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"match-score-card\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"score-title\",children:\"Match Score\"}),/*#__PURE__*/_jsx(\"p\",{className:\"score-subtitle\",children:\"Compatibility with job requirements\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-score-value\",children:[((_result$parsedMatchSc=result.parsedMatchScore)===null||_result$parsedMatchSc===void 0?void 0:_result$parsedMatchSc.score)||0,\"%\"]})]}),((_result$parsedMatchSc2=result.parsedMatchScore)===null||_result$parsedMatchSc2===void 0?void 0:_result$parsedMatchSc2.breakdown)&&/*#__PURE__*/_jsxs(\"div\",{className:\"score-breakdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"breakdown-label\",children:\"Skills Match\"}),/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-fill\",style:{width:`${result.parsedMatchScore.breakdown.skills}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"breakdown-value\",children:[result.parsedMatchScore.breakdown.skills,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"breakdown-label\",children:\"Experience\"}),/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-fill\",style:{width:`${result.parsedMatchScore.breakdown.experience}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"breakdown-value\",children:[result.parsedMatchScore.breakdown.experience,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"breakdown-label\",children:\"Education\"}),/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-fill\",style:{width:`${result.parsedMatchScore.breakdown.education}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"breakdown-value\",children:[result.parsedMatchScore.breakdown.education,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"breakdown-label\",children:\"Keywords\"}),/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"breakdown-fill\",style:{width:`${result.parsedMatchScore.breakdown.keywords}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"breakdown-value\",children:[result.parsedMatchScore.breakdown.keywords,\"%\"]})]})]})]}),((_result$parsedMatchSc3=result.parsedMatchScore)===null||_result$parsedMatchSc3===void 0?void 0:_result$parsedMatchSc3.qualifiedSkills)&&result.parsedMatchScore.qualifiedSkills.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"skills-section qualified-skills\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"skills-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"skills-icon\",children:\"\\u2705\"}),\"Qualified Skills\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"skills-list-container\",children:result.parsedMatchScore.qualifiedSkills.map((skill,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"skill-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"skill-bullet\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"span\",{className:\"skill-text\",children:skill.replace(/^\\s*[-•]\\s*/,'')})]},index))})]}),((_result$parsedMatchSc4=result.parsedMatchScore)===null||_result$parsedMatchSc4===void 0?void 0:_result$parsedMatchSc4.missingSkills)&&result.parsedMatchScore.missingSkills.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"skills-section missing-skills\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"skills-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"skills-icon\",children:\"\\uD83C\\uDFAF\"}),\"Skills to Develop\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"skills-list-container\",children:result.parsedMatchScore.missingSkills.map((skill,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"skill-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"skill-bullet\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"skill-text\",children:skill.replace(/^\\s*[-•]\\s*/,'')})]},index))})]}),((_result$parsedMatchSc5=result.parsedMatchScore)===null||_result$parsedMatchSc5===void 0?void 0:_result$parsedMatchSc5.analysis)&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"analysis-title\",children:\"Compatibility Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"analysis-content\",children:result.parsedMatchScore.analysis})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"questions-container\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"feature-title\",children:\"Interview Questions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"difficulty-tabs\",children:['easy','medium','hard'].map(difficulty=>/*#__PURE__*/_jsx(\"div\",{className:`difficulty-tab tab-${difficulty} ${activeTab===difficulty?'tab-active':''}`,onClick:()=>setActiveTab(difficulty),children:difficulty.charAt(0).toUpperCase()+difficulty.slice(1)},difficulty))}),/*#__PURE__*/_jsx(\"div\",{className:\"questions-list\",children:['easy','medium','hard'].map(difficulty=>/*#__PURE__*/_jsx(\"div\",{style:{display:activeTab===difficulty?'block':'none'},children:result.interview_questions.filter(q=>q.difficulty===difficulty).map((question,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"question-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"question-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:`question-badge badge-${difficulty}`,children:[\"Q\",index+1]}),/*#__PURE__*/_jsx(\"h4\",{className:\"question-text\",children:question.question})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-answer\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"answer-textarea\",placeholder:\"Type your answer here...\",rows:\"3\",value:questionResponses[`${difficulty}-${index}`]||'',onChange:e=>setQuestionResponses(prev=>({...prev,[`${difficulty}-${index}`]:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",onClick:()=>handleQuestionResponse(`${difficulty}-${index}`,questionResponses[`${difficulty}-${index}`]),disabled:!questionResponses[`${difficulty}-${index}`]||evaluationLoading[`${difficulty}-${index}`],children:evaluationLoading[`${difficulty}-${index}`]?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"loading-spinner\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Evaluating...\"]}):/*#__PURE__*/_jsx(_Fragment,{children:\"Submit Answer\"})}),evaluations[`${difficulty}-${index}`]&&/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-card\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"feedback-header\",children:\"AI Feedback\"}),/*#__PURE__*/_jsx(\"div\",{className:\"feedback-content\",children:evaluations[`${difficulty}-${index}`].split('\\n').map((line,sIndex)=>{const trimmedLine=line.trim();if(trimmedLine.startsWith('Overall Score:')){const score=trimmedLine.split(':')[1].trim();return/*#__PURE__*/_jsx(\"div\",{className:\"feedback-score\",children:score},sIndex);}if(trimmedLine==='Strengths:'){return/*#__PURE__*/_jsx(\"div\",{className:\"feedback-section\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"feedback-section-title feedback-strengths\",children:\"\\uD83D\\uDCAA Strengths\"})},sIndex);}if(trimmedLine==='Areas for Improvement:'){return/*#__PURE__*/_jsx(\"div\",{className:\"feedback-section\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"feedback-section-title feedback-improvements\",children:\"\\uD83C\\uDFAF Areas to Improve\"})},sIndex);}if(trimmedLine.startsWith('•')){return/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-point\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feedback-point-bullet\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"feedback-point-text\",children:trimmedLine.substring(1).trim()})]},sIndex);}if(trimmedLine.startsWith('Quick Tip:')){return/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-tip\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feedback-tip-icon\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"span\",{children:trimmedLine.substring(10).trim()})]},sIndex);}return null;})})]})]})]})},index))},difficulty))}),/*#__PURE__*/_jsx(\"button\",{className:\"load-more-button\",onClick:handleLoadMore,disabled:loadingMore,children:loadingMore?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"loading-spinner\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Loading more questions...\"]}):/*#__PURE__*/_jsx(_Fragment,{children:\"Load More Questions\"})})]})]})})]})]})})]});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Auth,{isLogin:true})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Auth,{isLogin:false})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","AuthProvider","useAuth","Auth","LandingPage","Logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","DEFAULT_RESPONSES","qualifiedSkills","missingSkills","analysis","cleanSkillsList","skills","Array","isArray","map","skill","trim","filter","length","toLowerCase","includes","cleanAnalysisText","text","cleaned","calculateMatchScore","resumeText","jobDescriptionText","resume","jobDesc","weights","experience","education","keywords","commonSkills","extractSkills","totalSkills","skillsScore","experienceScore","calculateExperienceScore","educationScore","calculateEducationScore","keywordsScore","calculateKeywordsScore","finalScore","Math","round","score","toString","breakdown","error","console","experienceKeywords","resumeExp","keyword","jobExp","min","educationKeywords","resumeEdu","jobEdu","split","word","matches","PrivateRoute","_ref","children","currentUser","to","Dashboard","_currentUser$email","_currentUser$email2","_result$parsedMatchSc","_result$parsedMatchSc2","_result$parsedMatchSc3","_result$parsedMatchSc4","_result$parsedMatchSc5","logout","navigate","resumeFile","setResumeFile","jobDescFile","setJobDescFile","result","setResult","loading","setLoading","uploadProgress","setUploadProgress","questionResponses","setQuestionResponses","evaluations","setEvaluations","evaluationLoading","setEvaluationLoading","loadingMore","setLoadingMore","activeTab","setActiveTab","isHovered","setIsHovered","isProfileOpen","setIsProfileOpen","handleLogout","replace","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleFileChange","e","fileType","file","files","prev","reader","FileReader","onprogress","lengthComputable","progress","loaded","total","onload","type","readAsArrayBuffer","readAsText","readFileAsText","Promise","resolve","reject","onerror","formatQuestions","questions","q","questionText","question","difficulty","handleSubmit","preventDefault","alert","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","catch","errorMessage","detail","status","Error","data","log","matchScoreResult","parsedMatchScore","match_score","missingSkillsSection","skillsText","extractedSkills","qualifiedSkillsSection","analysisSection","line","join","interview_questions","message","handleQuestionResponse","questionIndex","index","evalResponse","answer","evalData","formattedEvaluation","evaluation","handleLoadMore","newQuestions","additional_questions","className","onClick","src","alt","photoURL","displayName","email","onSubmit","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","name","accept","onChange","style","width","disabled","onMouseEnter","onMouseLeave","cx","cy","r","charAt","toUpperCase","slice","display","placeholder","rows","value","sIndex","trimmedLine","startsWith","substring","App","path","element","isLogin"],"sources":["C:/Users/Prarthana Patil/Documents/sem6/Mini project/resumegenie/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport \"./Dashboard.css\"; // Import the new Dashboard CSS\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport { AuthProvider } from './AuthContext';\nimport { useAuth } from './AuthContext';\nimport Auth from './Auth';\nimport LandingPage from './LandingPage';\nimport Logo from './RG_logo.jpg'; // Import the logo\n\nconst API_URL = \"http://localhost:8000\";\n\n// Add default responses\nconst DEFAULT_RESPONSES = {\n  qualifiedSkills: [\n    \"Communication Skills\",\n    \"Team Collaboration\",\n    \"Problem Solving\",\n    \"Time Management\",\n    \"Adaptability\"\n  ],\n  missingSkills: [\n    \"Advanced Technical Skills\",\n    \"Industry-specific Knowledge\",\n    \"Leadership Experience\",\n    \"Project Management\",\n    \"Specialized Certifications\"\n  ],\n  analysis: \"Based on the resume and job description analysis, there are several areas where your profile aligns well with the position, and some areas where additional development could enhance your candidacy. Focus on developing the missing skills while highlighting your existing strengths in your application.\"\n};\n\n// Add helper function to validate and clean skills\nconst cleanSkillsList = (skills) => {\n  if (!Array.isArray(skills)) return [];\n  return skills\n    .map(skill => skill.trim())\n    .filter(skill => skill && skill.length > 2)\n    .filter(skill => !skill.toLowerCase().includes('skills') && !skill.toLowerCase().includes('analysis'));\n};\n\n// Add helper function to validate analysis text\nconst cleanAnalysisText = (text) => {\n  if (!text || typeof text !== 'string') return DEFAULT_RESPONSES.analysis;\n  const cleaned = text.trim();\n  return cleaned.length > 50 ? cleaned : DEFAULT_RESPONSES.analysis;\n};\n\n// Add match score calculation function\nconst calculateMatchScore = (resumeText, jobDescriptionText) => {\n  try {\n    // Convert texts to lowercase for case-insensitive matching\n    const resume = resumeText.toLowerCase();\n    const jobDesc = jobDescriptionText.toLowerCase();\n\n    // Define scoring weights\n    const weights = {\n      skills: 0.4,\n      experience: 0.3,\n      education: 0.2,\n      keywords: 0.1\n    };\n\n    // Extract and match skills\n    const commonSkills = extractSkills(resume).filter(skill => \n      jobDesc.includes(skill.toLowerCase())\n    );\n    const totalSkills = extractSkills(jobDesc);\n    const skillsScore = totalSkills.length > 0 ? \n      (commonSkills.length / totalSkills.length) * weights.skills * 100 : 0;\n\n    // Extract and match experience\n    const experienceScore = calculateExperienceScore(resume, jobDesc) * weights.experience * 100;\n\n    // Extract and match education\n    const educationScore = calculateEducationScore(resume, jobDesc) * weights.education * 100;\n\n    // Match keywords\n    const keywordsScore = calculateKeywordsScore(resume, jobDesc) * weights.keywords * 100;\n\n    // Calculate final score\n    const finalScore = Math.round(skillsScore + experienceScore + educationScore + keywordsScore);\n\n    return {\n      score: finalScore.toString(),\n      breakdown: {\n        skills: Math.round(skillsScore),\n        experience: Math.round(experienceScore),\n        education: Math.round(educationScore),\n        keywords: Math.round(keywordsScore)\n      }\n    };\n  } catch (error) {\n    console.error('Error calculating match score:', error);\n    return { score: '0', breakdown: { skills: 0, experience: 0, education: 0, keywords: 0 } };\n  }\n};\n\n// Helper function to extract skills\nconst extractSkills = (text) => {\n  const commonSkills = [\n    'javascript', 'python', 'java', 'c++', 'c#', 'ruby', 'php',\n    'react', 'angular', 'vue', 'node.js', 'express', 'django',\n    'flask', 'spring', 'sql', 'mongodb', 'aws', 'azure', 'gcp',\n    'docker', 'kubernetes', 'git', 'agile', 'scrum', 'ci/cd',\n    'machine learning', 'ai', 'data science', 'analytics',\n    'project management', 'leadership', 'communication'\n  ];\n\n  return commonSkills.filter(skill => text.includes(skill.toLowerCase()));\n};\n\n// Helper function to calculate experience score\nconst calculateExperienceScore = (resume, jobDesc) => {\n  const experienceKeywords = ['experience', 'years', 'worked', 'job', 'position', 'role'];\n  const resumeExp = experienceKeywords.filter(keyword => resume.includes(keyword)).length;\n  const jobExp = experienceKeywords.filter(keyword => jobDesc.includes(keyword)).length;\n  \n  return jobExp > 0 ? Math.min(resumeExp / jobExp, 1) : 0;\n};\n\n// Helper function to calculate education score\nconst calculateEducationScore = (resume, jobDesc) => {\n  const educationKeywords = ['bachelor', 'master', 'phd', 'degree', 'diploma', 'certification'];\n  const resumeEdu = educationKeywords.filter(keyword => resume.includes(keyword)).length;\n  const jobEdu = educationKeywords.filter(keyword => jobDesc.includes(keyword)).length;\n  \n  return jobEdu > 0 ? Math.min(resumeEdu / jobEdu, 1) : 0;\n};\n\n// Helper function to calculate keywords score\nconst calculateKeywordsScore = (resume, jobDesc) => {\n  const keywords = jobDesc.split(/\\W+/).filter(word => word.length > 4);\n  const matches = keywords.filter(keyword => resume.includes(keyword.toLowerCase()));\n  \n  return keywords.length > 0 ? matches.length / keywords.length : 0;\n};\n\nfunction PrivateRoute({ children }) {\n  const { currentUser } = useAuth();\n  return currentUser ? children : <Navigate to=\"/login\" />;\n}\n\nfunction Dashboard() {\n  const { currentUser, logout } = useAuth();\n  const navigate = useNavigate();\n  const [resumeFile, setResumeFile] = useState(null);\n  const [jobDescFile, setJobDescFile] = useState(null);\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState({ resume: 0, jobDesc: 0 });\n  const [questionResponses, setQuestionResponses] = useState({});\n  const [evaluations, setEvaluations] = useState({});\n  const [evaluationLoading, setEvaluationLoading] = useState({});\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [activeTab, setActiveTab] = useState('easy');\n  const [isHovered, setIsHovered] = useState(false);\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      // Clear any existing state\n      setResumeFile(null);\n      setJobDescFile(null);\n      setResult(null);\n      setQuestionResponses({});\n      setEvaluations({});\n      // Navigate to landing page\n      navigate('/', { replace: true });\n    } catch (error) {\n      console.error('Failed to log out:', error);\n    }\n  };\n\n  // Add click outside handler to close dropdown\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (isProfileOpen && !event.target.closest('.user-profile-container')) {\n        setIsProfileOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isProfileOpen]);\n\n  const handleFileChange = (e, fileType) => {\n    const file = e.target.files[0];\n    if (file) {\n      setUploadProgress(prev => ({ ...prev, [fileType]: 0 }));\n      \n      const reader = new FileReader();\n      reader.onprogress = (event) => {\n        if (event.lengthComputable) {\n          const progress = Math.round((event.loaded / event.total) * 100);\n          setUploadProgress(prev => ({ ...prev, [fileType]: progress }));\n        }\n      };\n      \n      reader.onload = () => {\n        if (fileType === \"resume\") {\n          setResumeFile(file);\n        } else if (fileType === \"jobDesc\") {\n          setJobDescFile(file);\n        }\n        setUploadProgress(prev => ({ ...prev, [fileType]: 100 }));\n      };\n      \n      // Handle different file types\n      if (file.type === 'application/pdf') {\n        reader.readAsArrayBuffer(file);\n      } else if (file.type === 'application/msword' || \n                 file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\n        reader.readAsArrayBuffer(file);\n      } else {\n        reader.readAsText(file);\n      }\n    }\n  };\n\n  const readFileAsText = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target.result);\n      reader.onerror = (e) => reject(e);\n      reader.readAsText(file);\n    });\n  };\n\n  const formatQuestions = (questions) => {\n    if (!Array.isArray(questions)) return [];\n    \n    return questions\n      .filter(q => q && typeof q === 'object')\n      .filter(q => {\n        const questionText = q.question || '';\n        return !questionText.toLowerCase().includes('here are') && \n               !questionText.toLowerCase().includes('rationale:');\n      })\n      .map(q => ({\n        question: q.question.split('Rationale:')[0].trim().replace(/^\\d+\\.\\s*/, ''),\n        difficulty: q.difficulty || 'medium'\n      }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!resumeFile || !jobDescFile) {\n      alert(\"Please upload both files.\");\n      return;\n    }\n  \n    setLoading(true);\n    try {\n      const resumeText = await readFileAsText(resumeFile);\n      const jobDescriptionText = await readFileAsText(jobDescFile);\n  \n      const response = await fetch(`${API_URL}/api/match`, {\n        method: \"POST\",\n        headers: { \n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({ resumeText, jobDescriptionText }),\n      });\n  \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.detail || `HTTP error! status: ${response.status}`;\n        \n        // Handle specific error cases\n        if (response.status === 429) {\n          throw new Error(\"API rate limit exceeded. Please wait a moment and try again.\");\n        } else if (response.status === 400) {\n          throw new Error(errorMessage);\n        } else if (response.status === 500) {\n          throw new Error(`Server error: ${errorMessage}`);\n        }\n        \n        throw new Error(errorMessage);\n      }\n  \n      const data = await response.json();\n      console.log('Backend /api/match response:', data);\n\n      // Calculate match score using our new function\n      const matchScoreResult = calculateMatchScore(resumeText, jobDescriptionText);\n  \n      const parsedMatchScore = {\n        score: matchScoreResult.score,\n        missingSkills: [],\n        qualifiedSkills: [],\n        analysis: '',\n        breakdown: matchScoreResult.breakdown\n      };\n  \n      if (data.match_score) {\n        // Extract missing skills\n        const missingSkillsSection = data.match_score.split(/Missing Skills:|Skills to Develop:/i)[1];\n        if (missingSkillsSection) {\n          const skillsText = missingSkillsSection.split(/Qualified Skills:|Compatibility Analysis:|Analysis:/i)[0];\n          const extractedSkills = skillsText\n            .split(/[•\\-\\*]/)\n            .map(skill => skill.trim())\n            .filter(skill => skill && \n              !skill.toLowerCase().includes('missing skills') && \n              !skill.toLowerCase().includes('skills to develop') &&\n              !skill.toLowerCase().includes('qualified skills'));\n          \n          parsedMatchScore.missingSkills = cleanSkillsList(extractedSkills);\n        }\n\n        // Extract qualified skills\n        const qualifiedSkillsSection = data.match_score.split(/Qualified Skills:|Matching Skills:/i)[1];\n        if (qualifiedSkillsSection) {\n          const skillsText = qualifiedSkillsSection.split(/Missing Skills:|Skills to Develop:|Compatibility Analysis:|Analysis:/i)[0];\n          const extractedSkills = skillsText\n            .split(/[•\\-\\*]/)\n            .map(skill => skill.trim())\n            .filter(skill => skill && \n              !skill.toLowerCase().includes('qualified skills') && \n              !skill.toLowerCase().includes('matching skills'));\n          \n          parsedMatchScore.qualifiedSkills = cleanSkillsList(extractedSkills);\n        }\n      \n        const analysisSection = data.match_score.split(/Compatibility Analysis:|Analysis:/i)[1];\n        if (analysisSection) {\n          parsedMatchScore.analysis = cleanAnalysisText(analysisSection\n            .split(/[•\\-\\*]/)\n            .map(line => line.trim())\n            .filter(line => line && !line.toLowerCase().includes('compatibility analysis') && !line.toLowerCase().includes('analysis'))\n            .join('\\n'));\n        }\n      }\n\n      // Apply default values if sections are empty\n      if (!parsedMatchScore.qualifiedSkills.length) {\n        parsedMatchScore.qualifiedSkills = DEFAULT_RESPONSES.qualifiedSkills;\n      }\n      if (!parsedMatchScore.missingSkills.length) {\n        parsedMatchScore.missingSkills = DEFAULT_RESPONSES.missingSkills;\n      }\n      if (!parsedMatchScore.analysis) {\n        parsedMatchScore.analysis = DEFAULT_RESPONSES.analysis;\n      }\n\n      setResult({\n        parsedMatchScore,\n        interview_questions: formatQuestions(data.interview_questions)\n      });\n      \n      // Show message if offline fallback was used\n      if (data.interview_questions && data.interview_questions.length > 0) {\n        console.log(\"Interview questions generated successfully\");\n      }\n      \n      setActiveTab('easy');\n  \n    } catch (error) {\n      console.error(\"Error details:\", error);\n      const errorMessage = error.message || \"Failed to process the response. Please try again.\";\n      \n      if (errorMessage.includes(\"rate limit\")) {\n        alert(`The system is using offline question generation due to API rate limiting.\\n\\nYou can still practice with the interview questions and get feedback.\\n\\nPlease wait a few minutes before trying again for AI-powered questions.`);\n      } else if (errorMessage.includes(\"quota\")) {\n        alert(`API quota exceeded.\\n\\nThe system will use offline question generation for now.\\n\\nPlease check your Gemini API plan and billing if needed.`);\n      } else {\n        alert(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleQuestionResponse = async (questionIndex, response) => {\n    if (!response?.trim()) {\n      alert(\"Please provide an answer before submitting.\");\n      return;\n    }\n\n    setEvaluationLoading(prev => ({ ...prev, [questionIndex]: true }));\n    try {\n      const resumeText = await readFileAsText(resumeFile);\n      const jobDescriptionText = await readFileAsText(jobDescFile);\n\n      const [difficulty, index] = questionIndex.split('-');\n      \n      const question = result.interview_questions\n        .filter(q => q.difficulty === difficulty)[index];\n\n      if (!question) {\n        throw new Error('Question not found');\n      }\n\n      const evalResponse = await fetch(`${API_URL}/api/evaluate`, {\n        method: \"POST\",\n        headers: { \n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          question: question.question,\n          answer: response,\n          resumeText,\n          jobDescriptionText\n        }),\n      });\n\n      if (!evalResponse.ok) {\n        const errorData = await evalResponse.text();\n        throw new Error(errorData || \"Failed to get evaluation\");\n      }\n\n      const evalData = await evalResponse.json();\n\n      console.log(`Backend /api/evaluate response for question ${questionIndex}:`, evalData); // Log the evaluation response\n\n      const formattedEvaluation = evalData.evaluation\n        .split('\\n')\n        .filter(line => line.trim())\n        .join('\\n');\n\n      setEvaluations(prev => ({\n        ...prev,\n        [questionIndex]: formattedEvaluation\n      }));\n\n    } catch (error) {\n      console.error(\"Evaluation error:\", error);\n      alert(\"Failed to evaluate response. Please try again.\");\n    } finally {\n      setEvaluationLoading(prev => ({ ...prev, [questionIndex]: false }));\n    }\n  };\n\n  const handleLoadMore = async () => {\n    setLoadingMore(true);\n    try {\n      const resumeText = await readFileAsText(resumeFile);\n      const jobDescriptionText = await readFileAsText(jobDescFile);\n\n      const response = await fetch(`${API_URL}/api/more-questions`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          resumeText,\n          jobDescriptionText\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      console.log('Backend /api/more-questions response:', data); // Log the additional questions response\n\n      const newQuestions = formatQuestions(data.additional_questions);\n      \n      setResult(prev => ({\n        ...prev,\n        interview_questions: [\n          ...prev.interview_questions,\n          ...newQuestions\n        ]\n      }));\n\n    } catch (error) {\n      console.error(\"Error loading more questions:\", error);\n      alert(\"Failed to load additional questions. Please try again.\");\n    } finally {\n      setLoadingMore(false);\n    }\n  };\n\n  return (\n    <div className=\"landing-container\">\n      {/* Modern Navigation Bar */}\n      <nav className=\"dashboard-nav\">\n        <div className=\"logo-container\" onClick={() => navigate('/')}>\n          <img src={Logo} alt=\"Resume Genie Logo\" className=\"site-logo\" />\n          <h1 className=\"title\">\n            Resume <span className=\"highlight\">Genie</span>\n          </h1>\n        </div>\n        <div className=\"nav-right\">\n          <div className=\"user-profile-container\">\n            <div \n              className=\"user-profile\"\n              onClick={() => setIsProfileOpen(!isProfileOpen)}\n            >\n              <img \n                src={currentUser?.photoURL || `https://ui-avatars.com/api/?name=${currentUser?.displayName || currentUser?.email?.split('@')[0]}`}\n                alt=\"Profile\" \n                className=\"user-avatar\"\n              />\n              <span className=\"user-name\">\n                {currentUser?.displayName || currentUser?.email?.split('@')[0]}\n              </span>\n            </div>\n            {isProfileOpen && (\n              <div className=\"profile-dropdown\">\n                <button \n                  className=\"logout-btn\"\n                  onClick={handleLogout}\n                >\n                  Logout\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content - Using single column layout */}\n      <main className=\"main-container\">\n        <div className=\"dashboard-content\">\n          {/* Upload Section */}\n          <div className=\"dashboard-card\">\n            <div className=\"card-header\">\n              <h2 className=\"section-title\">Upload Documents</h2>\n              <p className=\"subtitle\">Upload your resume and job description for AI analysis</p>\n            </div>\n            <div className=\"card-content\">\n              <form className=\"upload-form\" onSubmit={handleSubmit}>\n                {/* Resume Upload */}\n                <div className=\"upload-field\">\n                  <label className=\"upload-label\">Upload Resume</label>\n                  <div className=\"upload-box\">\n                    <label className=\"upload-area\">\n                      <div className=\"upload-placeholder\">\n                        <svg className=\"upload-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                        </svg>\n                        <p className=\"upload-text\">\n                          {resumeFile ? resumeFile.name : 'Click to upload or drag and drop'}\n                        </p>\n                        <p className=\"upload-hint\">\n                          Supports PDF, DOC, DOCX, TXT\n                        </p>\n                      </div>\n                      <input \n                        type=\"file\" \n                        className=\"hidden\" \n                        accept=\".pdf,.doc,.docx,.txt\"\n                        onChange={(e) => handleFileChange(e, \"resume\")}\n                      />\n                    </label>\n                  </div>\n                  {uploadProgress.resume > 0 && (\n                    <div className=\"progress-bar\">\n                      <div \n                        className=\"progress-fill\" \n                        style={{ width: `${uploadProgress.resume}%` }}\n                      ></div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Job Description Upload */}\n                <div className=\"upload-field\">\n                  <label className=\"upload-label\">Upload Job Description</label>\n                  <div className=\"upload-box\">\n                    <label className=\"upload-area\">\n                      <div className=\"upload-placeholder\">\n                        <svg className=\"upload-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                        </svg>\n                        <p className=\"upload-text\">\n                          {jobDescFile ? jobDescFile.name : 'Click to upload or drag and drop'}\n                        </p>\n                        <p className=\"upload-hint\">\n                          Supports PDF, DOC, DOCX, TXT\n                        </p>\n                      </div>\n                      <input \n                        type=\"file\" \n                        className=\"hidden\" \n                        accept=\".pdf,.doc,.docx,.txt\"\n                        onChange={(e) => handleFileChange(e, \"jobDesc\")}\n                      />\n                    </label>\n                  </div>\n                  {uploadProgress.jobDesc > 0 && (\n                    <div className=\"progress-bar\">\n                      <div \n                        className=\"progress-fill\" \n                        style={{ width: `${uploadProgress.jobDesc}%` }}\n                      ></div>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"button-container\">\n                  <button\n                    type=\"submit\"\n                    disabled={loading || !resumeFile || !jobDescFile}\n                    className=\"cta-button\"\n                    onMouseEnter={() => setIsHovered(true)}\n                    onMouseLeave={() => setIsHovered(false)}\n                  >\n                    {loading ? (\n                      <>\n                        <svg className=\"loading-spinner\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        Analyzing...\n                      </>\n                    ) : (\n                      <>\n                        Analyze Resume\n                        <span className={`arrow ${isHovered ? 'arrow-hover' : ''}`}>→</span>\n                      </>\n                    )}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n\n          {/* Analysis Results Section - Appears below upload */}\n          {result && (\n            <div className=\"dashboard-card\">\n              <div className=\"card-header\">\n                <h2 className=\"section-title\">Analysis Results</h2>\n                <p className=\"subtitle\">Your personalized resume analysis and interview preparation</p>\n              </div>\n              <div className=\"card-content\">\n                <div className=\"results-container\">\n                  {/* Resume-Job Match Analysis Tab */}\n                  <div className=\"analysis-tabs\">\n                    <div className=\"analysis-tab active\">Resume-Job Match Analysis</div>\n                  </div>\n\n                  {/* Match Analysis Card */}\n                  <div className=\"match-section\">\n                    <div className=\"match-score-grid\">\n                      <div className=\"match-score-card\">\n                        <div>\n                          <h4 className=\"score-title\">Match Score</h4>\n                          <p className=\"score-subtitle\">Compatibility with job requirements</p>\n                        </div>\n                        <div className=\"match-score-value\">\n                          {result.parsedMatchScore?.score || 0}%\n                        </div>\n                      </div>\n                      {result.parsedMatchScore?.breakdown && (\n                        <div className=\"score-breakdown\">\n                          <div className=\"breakdown-item\">\n                            <span className=\"breakdown-label\">Skills Match</span>\n                            <div className=\"breakdown-bar\">\n                              <div \n                                className=\"breakdown-fill\" \n                                style={{ width: `${result.parsedMatchScore.breakdown.skills}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"breakdown-value\">{result.parsedMatchScore.breakdown.skills}%</span>\n                          </div>\n                          <div className=\"breakdown-item\">\n                            <span className=\"breakdown-label\">Experience</span>\n                            <div className=\"breakdown-bar\">\n                              <div \n                                className=\"breakdown-fill\" \n                                style={{ width: `${result.parsedMatchScore.breakdown.experience}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"breakdown-value\">{result.parsedMatchScore.breakdown.experience}%</span>\n                          </div>\n                          <div className=\"breakdown-item\">\n                            <span className=\"breakdown-label\">Education</span>\n                            <div className=\"breakdown-bar\">\n                              <div \n                                className=\"breakdown-fill\" \n                                style={{ width: `${result.parsedMatchScore.breakdown.education}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"breakdown-value\">{result.parsedMatchScore.breakdown.education}%</span>\n                          </div>\n                          <div className=\"breakdown-item\">\n                            <span className=\"breakdown-label\">Keywords</span>\n                            <div className=\"breakdown-bar\">\n                              <div \n                                className=\"breakdown-fill\" \n                                style={{ width: `${result.parsedMatchScore.breakdown.keywords}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"breakdown-value\">{result.parsedMatchScore.breakdown.keywords}%</span>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    \n                    {result.parsedMatchScore?.qualifiedSkills && result.parsedMatchScore.qualifiedSkills.length > 0 && (\n                      <div className=\"skills-section qualified-skills\">\n                        <h4 className=\"skills-title\">\n                          <span className=\"skills-icon\">✅</span>\n                          Qualified Skills\n                        </h4>\n                        <div className=\"skills-list-container\">\n                          {result.parsedMatchScore.qualifiedSkills.map((skill, index) => (\n                            <div key={index} className=\"skill-item\">\n                              <span className=\"skill-bullet\">✓</span>\n                              <span className=\"skill-text\">{skill.replace(/^\\s*[-•]\\s*/, '')}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                    \n                    {result.parsedMatchScore?.missingSkills && result.parsedMatchScore.missingSkills.length > 0 && (\n                      <div className=\"skills-section missing-skills\">\n                        <h4 className=\"skills-title\">\n                          <span className=\"skills-icon\">🎯</span>\n                          Skills to Develop\n                        </h4>\n                        <div className=\"skills-list-container\">\n                          {result.parsedMatchScore.missingSkills.map((skill, index) => (\n                            <div key={index} className=\"skill-item\">\n                              <span className=\"skill-bullet\">•</span>\n                              <span className=\"skill-text\">{skill.replace(/^\\s*[-•]\\s*/, '')}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                    \n                    {result.parsedMatchScore?.analysis && (\n                      <div className=\"analysis-section\">\n                        <h4 className=\"analysis-title\">Compatibility Analysis</h4>\n                        <p className=\"analysis-content\">{result.parsedMatchScore.analysis}</p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Interview Questions Section with Tabs */}\n                  <div className=\"questions-container\">\n                    <h3 className=\"feature-title\">Interview Questions</h3>\n                    \n                    <div className=\"difficulty-tabs\">\n                      {['easy', 'medium', 'hard'].map(difficulty => (\n                        <div \n                          key={difficulty} \n                          className={`difficulty-tab tab-${difficulty} ${activeTab === difficulty ? 'tab-active' : ''}`}\n                          onClick={() => setActiveTab(difficulty)}\n                        >\n                          {difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}\n                        </div>\n                      ))}\n                    </div>\n                    \n                    <div className=\"questions-list\">\n                      {['easy', 'medium', 'hard'].map(difficulty => (\n                        <div \n                          key={difficulty}\n                          style={{ display: activeTab === difficulty ? 'block' : 'none' }}\n                        >\n                          {result.interview_questions\n                            .filter(q => q.difficulty === difficulty)\n                            .map((question, index) => (\n                              <div key={index} className=\"question-card\">\n                                <div className=\"question-content\">\n                                  <div className=\"question-header\">\n                                    <span className={`question-badge badge-${difficulty}`}>\n                                      Q{index + 1}\n                                    </span>\n                                    <h4 className=\"question-text\">{question.question}</h4>\n                                  </div>\n                                  \n                                  <div className=\"question-answer\">\n                                    <textarea\n                                      className=\"answer-textarea\"\n                                      placeholder=\"Type your answer here...\"\n                                      rows=\"3\"\n                                      value={questionResponses[`${difficulty}-${index}`] || ''}\n                                      onChange={(e) => setQuestionResponses(prev => ({\n                                        ...prev,\n                                        [`${difficulty}-${index}`]: e.target.value\n                                      }))}\n                                    />\n                                    <button \n                                      className=\"submit-button\"\n                                      onClick={() => handleQuestionResponse(`${difficulty}-${index}`, \n                                        questionResponses[`${difficulty}-${index}`])}\n                                      disabled={!questionResponses[`${difficulty}-${index}`] || \n                                        evaluationLoading[`${difficulty}-${index}`]}\n                                    >\n                                      {evaluationLoading[`${difficulty}-${index}`] ? (\n                                        <>\n                                          <svg className=\"loading-spinner\" viewBox=\"0 0 24 24\">\n                                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                          </svg>\n                                          Evaluating...\n                                        </>\n                                      ) : (\n                                        <>\n                                          Submit Answer\n                                        </>\n                                      )}\n                                    </button>\n                                    \n                                    {evaluations[`${difficulty}-${index}`] && (\n                                      <div className=\"feedback-card\">\n                                        <h4 className=\"feedback-header\">AI Feedback</h4>\n                                        <div className=\"feedback-content\">\n                                          {evaluations[`${difficulty}-${index}`].split('\\n').map((line, sIndex) => {\n                                            const trimmedLine = line.trim();\n                                            \n                                            if (trimmedLine.startsWith('Overall Score:')) {\n                                              const score = trimmedLine.split(':')[1].trim();\n                                              return (\n                                                <div key={sIndex} className=\"feedback-score\">{score}</div>\n                                              );\n                                            }\n                                            \n                                            if (trimmedLine === 'Strengths:') {\n                                              return (\n                                                <div key={sIndex} className=\"feedback-section\">\n                                                  <h5 className=\"feedback-section-title feedback-strengths\">💪 Strengths</h5>\n                                                </div>\n                                              );\n                                            }\n                                            \n                                            if (trimmedLine === 'Areas for Improvement:') {\n                                              return (\n                                                <div key={sIndex} className=\"feedback-section\">\n                                                  <h5 className=\"feedback-section-title feedback-improvements\">🎯 Areas to Improve</h5>\n                                                </div>\n                                              );\n                                            }\n                                            \n                                            if (trimmedLine.startsWith('•')) {\n                                              return (\n                                                <div key={sIndex} className=\"feedback-point\">\n                                                  <span className=\"feedback-point-bullet\">•</span>\n                                                  <span className=\"feedback-point-text\">{trimmedLine.substring(1).trim()}</span>\n                                                </div>\n                                              );\n                                            }\n                                            \n                                            if (trimmedLine.startsWith('Quick Tip:')) {\n                                              return (\n                                                <div key={sIndex} className=\"feedback-tip\">\n                                                  <span className=\"feedback-tip-icon\">💡</span>\n                                                  <span>{trimmedLine.substring(10).trim()}</span>\n                                                </div>\n                                              );\n                                            }\n                                            \n                                            return null;\n                                          })}\n                                        </div>\n                                      </div>\n                                    )}\n                                  </div>\n                                </div>\n                              </div>\n                            ))}\n                        </div>\n                      ))}\n                    </div>\n                    \n                    <button \n                      className=\"load-more-button\"\n                      onClick={handleLoadMore}\n                      disabled={loadingMore}\n                    >\n                      {loadingMore ? (\n                        <>\n                          <svg className=\"loading-spinner\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                          Loading more questions...\n                        </>\n                      ) : (\n                        <>\n                          Load More Questions\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <Routes>\n          <Route path=\"/\" element={<LandingPage />} />\n          <Route path=\"/login\" element={<Auth isLogin={true} />} />\n          <Route path=\"/signup\" element={<Auth isLogin={false} />} />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <PrivateRoute>\n                <Dashboard />\n              </PrivateRoute>\n            }\n          />\n        </Routes>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,MAAO,iBAAiB,CAAE;AAC1B,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CAChG,OAASC,YAAY,KAAQ,eAAe,CAC5C,OAASC,OAAO,KAAQ,eAAe,CACvC,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,IAAI,KAAM,eAAe,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElC,KAAM,CAAAC,OAAO,CAAG,uBAAuB,CAEvC;AACA,KAAM,CAAAC,iBAAiB,CAAG,CACxBC,eAAe,CAAE,CACf,sBAAsB,CACtB,oBAAoB,CACpB,iBAAiB,CACjB,iBAAiB,CACjB,cAAc,CACf,CACDC,aAAa,CAAE,CACb,2BAA2B,CAC3B,6BAA6B,CAC7B,uBAAuB,CACvB,oBAAoB,CACpB,4BAA4B,CAC7B,CACDC,QAAQ,CAAE,8SACZ,CAAC,CAED;AACA,KAAM,CAAAC,eAAe,CAAIC,MAAM,EAAK,CAClC,GAAI,CAACC,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,CAAE,MAAO,EAAE,CACrC,MAAO,CAAAA,MAAM,CACVG,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAC1BC,MAAM,CAACF,KAAK,EAAIA,KAAK,EAAIA,KAAK,CAACG,MAAM,CAAG,CAAC,CAAC,CAC1CD,MAAM,CAACF,KAAK,EAAI,CAACA,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAI,CAACL,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAC1G,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAIC,IAAI,EAAK,CAClC,GAAI,CAACA,IAAI,EAAI,MAAO,CAAAA,IAAI,GAAK,QAAQ,CAAE,MAAO,CAAAhB,iBAAiB,CAACG,QAAQ,CACxE,KAAM,CAAAc,OAAO,CAAGD,IAAI,CAACN,IAAI,CAAC,CAAC,CAC3B,MAAO,CAAAO,OAAO,CAACL,MAAM,CAAG,EAAE,CAAGK,OAAO,CAAGjB,iBAAiB,CAACG,QAAQ,CACnE,CAAC,CAED;AACA,KAAM,CAAAe,mBAAmB,CAAGA,CAACC,UAAU,CAAEC,kBAAkB,GAAK,CAC9D,GAAI,CACF;AACA,KAAM,CAAAC,MAAM,CAAGF,UAAU,CAACN,WAAW,CAAC,CAAC,CACvC,KAAM,CAAAS,OAAO,CAAGF,kBAAkB,CAACP,WAAW,CAAC,CAAC,CAEhD;AACA,KAAM,CAAAU,OAAO,CAAG,CACdlB,MAAM,CAAE,GAAG,CACXmB,UAAU,CAAE,GAAG,CACfC,SAAS,CAAE,GAAG,CACdC,QAAQ,CAAE,GACZ,CAAC,CAED;AACA,KAAM,CAAAC,YAAY,CAAGC,aAAa,CAACP,MAAM,CAAC,CAACV,MAAM,CAACF,KAAK,EACrDa,OAAO,CAACR,QAAQ,CAACL,KAAK,CAACI,WAAW,CAAC,CAAC,CACtC,CAAC,CACD,KAAM,CAAAgB,WAAW,CAAGD,aAAa,CAACN,OAAO,CAAC,CAC1C,KAAM,CAAAQ,WAAW,CAAGD,WAAW,CAACjB,MAAM,CAAG,CAAC,CACvCe,YAAY,CAACf,MAAM,CAAGiB,WAAW,CAACjB,MAAM,CAAIW,OAAO,CAAClB,MAAM,CAAG,GAAG,CAAG,CAAC,CAEvE;AACA,KAAM,CAAA0B,eAAe,CAAGC,wBAAwB,CAACX,MAAM,CAAEC,OAAO,CAAC,CAAGC,OAAO,CAACC,UAAU,CAAG,GAAG,CAE5F;AACA,KAAM,CAAAS,cAAc,CAAGC,uBAAuB,CAACb,MAAM,CAAEC,OAAO,CAAC,CAAGC,OAAO,CAACE,SAAS,CAAG,GAAG,CAEzF;AACA,KAAM,CAAAU,aAAa,CAAGC,sBAAsB,CAACf,MAAM,CAAEC,OAAO,CAAC,CAAGC,OAAO,CAACG,QAAQ,CAAG,GAAG,CAEtF;AACA,KAAM,CAAAW,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACT,WAAW,CAAGC,eAAe,CAAGE,cAAc,CAAGE,aAAa,CAAC,CAE7F,MAAO,CACLK,KAAK,CAAEH,UAAU,CAACI,QAAQ,CAAC,CAAC,CAC5BC,SAAS,CAAE,CACTrC,MAAM,CAAEiC,IAAI,CAACC,KAAK,CAACT,WAAW,CAAC,CAC/BN,UAAU,CAAEc,IAAI,CAACC,KAAK,CAACR,eAAe,CAAC,CACvCN,SAAS,CAAEa,IAAI,CAACC,KAAK,CAACN,cAAc,CAAC,CACrCP,QAAQ,CAAEY,IAAI,CAACC,KAAK,CAACJ,aAAa,CACpC,CACF,CAAC,CACH,CAAE,MAAOQ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtD,MAAO,CAAEH,KAAK,CAAE,GAAG,CAAEE,SAAS,CAAE,CAAErC,MAAM,CAAE,CAAC,CAAEmB,UAAU,CAAE,CAAC,CAAEC,SAAS,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAE,CAAC,CAC3F,CACF,CAAC,CAED;AACA,KAAM,CAAAE,aAAa,CAAIZ,IAAI,EAAK,CAC9B,KAAM,CAAAW,YAAY,CAAG,CACnB,YAAY,CAAE,QAAQ,CAAE,MAAM,CAAE,KAAK,CAAE,IAAI,CAAE,MAAM,CAAE,KAAK,CAC1D,OAAO,CAAE,SAAS,CAAE,KAAK,CAAE,SAAS,CAAE,SAAS,CAAE,QAAQ,CACzD,OAAO,CAAE,QAAQ,CAAE,KAAK,CAAE,SAAS,CAAE,KAAK,CAAE,OAAO,CAAE,KAAK,CAC1D,QAAQ,CAAE,YAAY,CAAE,KAAK,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CACxD,kBAAkB,CAAE,IAAI,CAAE,cAAc,CAAE,WAAW,CACrD,oBAAoB,CAAE,YAAY,CAAE,eAAe,CACpD,CAED,MAAO,CAAAA,YAAY,CAAChB,MAAM,CAACF,KAAK,EAAIO,IAAI,CAACF,QAAQ,CAACL,KAAK,CAACI,WAAW,CAAC,CAAC,CAAC,CAAC,CACzE,CAAC,CAED;AACA,KAAM,CAAAmB,wBAAwB,CAAGA,CAACX,MAAM,CAAEC,OAAO,GAAK,CACpD,KAAM,CAAAuB,kBAAkB,CAAG,CAAC,YAAY,CAAE,OAAO,CAAE,QAAQ,CAAE,KAAK,CAAE,UAAU,CAAE,MAAM,CAAC,CACvF,KAAM,CAAAC,SAAS,CAAGD,kBAAkB,CAAClC,MAAM,CAACoC,OAAO,EAAI1B,MAAM,CAACP,QAAQ,CAACiC,OAAO,CAAC,CAAC,CAACnC,MAAM,CACvF,KAAM,CAAAoC,MAAM,CAAGH,kBAAkB,CAAClC,MAAM,CAACoC,OAAO,EAAIzB,OAAO,CAACR,QAAQ,CAACiC,OAAO,CAAC,CAAC,CAACnC,MAAM,CAErF,MAAO,CAAAoC,MAAM,CAAG,CAAC,CAAGV,IAAI,CAACW,GAAG,CAACH,SAAS,CAAGE,MAAM,CAAE,CAAC,CAAC,CAAG,CAAC,CACzD,CAAC,CAED;AACA,KAAM,CAAAd,uBAAuB,CAAGA,CAACb,MAAM,CAAEC,OAAO,GAAK,CACnD,KAAM,CAAA4B,iBAAiB,CAAG,CAAC,UAAU,CAAE,QAAQ,CAAE,KAAK,CAAE,QAAQ,CAAE,SAAS,CAAE,eAAe,CAAC,CAC7F,KAAM,CAAAC,SAAS,CAAGD,iBAAiB,CAACvC,MAAM,CAACoC,OAAO,EAAI1B,MAAM,CAACP,QAAQ,CAACiC,OAAO,CAAC,CAAC,CAACnC,MAAM,CACtF,KAAM,CAAAwC,MAAM,CAAGF,iBAAiB,CAACvC,MAAM,CAACoC,OAAO,EAAIzB,OAAO,CAACR,QAAQ,CAACiC,OAAO,CAAC,CAAC,CAACnC,MAAM,CAEpF,MAAO,CAAAwC,MAAM,CAAG,CAAC,CAAGd,IAAI,CAACW,GAAG,CAACE,SAAS,CAAGC,MAAM,CAAE,CAAC,CAAC,CAAG,CAAC,CACzD,CAAC,CAED;AACA,KAAM,CAAAhB,sBAAsB,CAAGA,CAACf,MAAM,CAAEC,OAAO,GAAK,CAClD,KAAM,CAAAI,QAAQ,CAAGJ,OAAO,CAAC+B,KAAK,CAAC,KAAK,CAAC,CAAC1C,MAAM,CAAC2C,IAAI,EAAIA,IAAI,CAAC1C,MAAM,CAAG,CAAC,CAAC,CACrE,KAAM,CAAA2C,OAAO,CAAG7B,QAAQ,CAACf,MAAM,CAACoC,OAAO,EAAI1B,MAAM,CAACP,QAAQ,CAACiC,OAAO,CAAClC,WAAW,CAAC,CAAC,CAAC,CAAC,CAElF,MAAO,CAAAa,QAAQ,CAACd,MAAM,CAAG,CAAC,CAAG2C,OAAO,CAAC3C,MAAM,CAAGc,QAAQ,CAACd,MAAM,CAAG,CAAC,CACnE,CAAC,CAED,QAAS,CAAA4C,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAChC,KAAM,CAAEE,WAAY,CAAC,CAAGtE,OAAO,CAAC,CAAC,CACjC,MAAO,CAAAsE,WAAW,CAAGD,QAAQ,cAAGhE,IAAA,CAACR,QAAQ,EAAC0E,EAAE,CAAC,QAAQ,CAAE,CAAC,CAC1D,CAEA,QAAS,CAAAC,SAASA,CAAA,CAAG,KAAAC,kBAAA,CAAAC,mBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACnB,KAAM,CAAET,WAAW,CAAEU,MAAO,CAAC,CAAGhF,OAAO,CAAC,CAAC,CACzC,KAAM,CAAAiF,QAAQ,CAAGnF,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACoF,UAAU,CAAEC,aAAa,CAAC,CAAG5F,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAAC6F,WAAW,CAAEC,cAAc,CAAC,CAAG9F,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAAC+F,MAAM,CAAEC,SAAS,CAAC,CAAGhG,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACiG,OAAO,CAAEC,UAAU,CAAC,CAAGlG,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmG,cAAc,CAAEC,iBAAiB,CAAC,CAAGpG,QAAQ,CAAC,CAAEyC,MAAM,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAC,CAAC,CAC/E,KAAM,CAAC2D,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGtG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC9D,KAAM,CAACuG,WAAW,CAAEC,cAAc,CAAC,CAAGxG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAACyG,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG1G,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC9D,KAAM,CAAC2G,WAAW,CAAEC,cAAc,CAAC,CAAG5G,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC6G,SAAS,CAAEC,YAAY,CAAC,CAAG9G,QAAQ,CAAC,MAAM,CAAC,CAClD,KAAM,CAAC+G,SAAS,CAAEC,YAAY,CAAC,CAAGhH,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACiH,aAAa,CAAEC,gBAAgB,CAAC,CAAGlH,QAAQ,CAAC,KAAK,CAAC,CAEzD,KAAM,CAAAmH,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAA1B,MAAM,CAAC,CAAC,CACd;AACAG,aAAa,CAAC,IAAI,CAAC,CACnBE,cAAc,CAAC,IAAI,CAAC,CACpBE,SAAS,CAAC,IAAI,CAAC,CACfM,oBAAoB,CAAC,CAAC,CAAC,CAAC,CACxBE,cAAc,CAAC,CAAC,CAAC,CAAC,CAClB;AACAd,QAAQ,CAAC,GAAG,CAAE,CAAE0B,OAAO,CAAE,IAAK,CAAC,CAAC,CAClC,CAAE,MAAOrD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CACF,CAAC,CAED;AACA9D,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoH,kBAAkB,CAAIC,KAAK,EAAK,CACpC,GAAIL,aAAa,EAAI,CAACK,KAAK,CAACC,MAAM,CAACC,OAAO,CAAC,yBAAyB,CAAC,CAAE,CACrEN,gBAAgB,CAAC,KAAK,CAAC,CACzB,CACF,CAAC,CAEDO,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEL,kBAAkB,CAAC,CAC1D,MAAO,IAAM,CACXI,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC/D,CAAC,CACH,CAAC,CAAE,CAACJ,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAW,gBAAgB,CAAGA,CAACC,CAAC,CAAEC,QAAQ,GAAK,CACxC,KAAM,CAAAC,IAAI,CAAGF,CAAC,CAACN,MAAM,CAACS,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAID,IAAI,CAAE,CACR3B,iBAAiB,CAAC6B,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACH,QAAQ,EAAG,CAAE,CAAC,CAAC,CAAC,CAEvD,KAAM,CAAAI,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,UAAU,CAAId,KAAK,EAAK,CAC7B,GAAIA,KAAK,CAACe,gBAAgB,CAAE,CAC1B,KAAM,CAAAC,QAAQ,CAAG5E,IAAI,CAACC,KAAK,CAAE2D,KAAK,CAACiB,MAAM,CAAGjB,KAAK,CAACkB,KAAK,CAAI,GAAG,CAAC,CAC/DpC,iBAAiB,CAAC6B,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACH,QAAQ,EAAGQ,QAAS,CAAC,CAAC,CAAC,CAChE,CACF,CAAC,CAEDJ,MAAM,CAACO,MAAM,CAAG,IAAM,CACpB,GAAIX,QAAQ,GAAK,QAAQ,CAAE,CACzBlC,aAAa,CAACmC,IAAI,CAAC,CACrB,CAAC,IAAM,IAAID,QAAQ,GAAK,SAAS,CAAE,CACjChC,cAAc,CAACiC,IAAI,CAAC,CACtB,CACA3B,iBAAiB,CAAC6B,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACH,QAAQ,EAAG,GAAI,CAAC,CAAC,CAAC,CAC3D,CAAC,CAED;AACA,GAAIC,IAAI,CAACW,IAAI,GAAK,iBAAiB,CAAE,CACnCR,MAAM,CAACS,iBAAiB,CAACZ,IAAI,CAAC,CAChC,CAAC,IAAM,IAAIA,IAAI,CAACW,IAAI,GAAK,oBAAoB,EAClCX,IAAI,CAACW,IAAI,GAAK,yEAAyE,CAAE,CAClGR,MAAM,CAACS,iBAAiB,CAACZ,IAAI,CAAC,CAChC,CAAC,IAAM,CACLG,MAAM,CAACU,UAAU,CAACb,IAAI,CAAC,CACzB,CACF,CACF,CAAC,CAED,KAAM,CAAAc,cAAc,CAAId,IAAI,EAAK,CAC/B,MAAO,IAAI,CAAAe,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,KAAM,CAAAd,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACO,MAAM,CAAIZ,CAAC,EAAKkB,OAAO,CAAClB,CAAC,CAACN,MAAM,CAACxB,MAAM,CAAC,CAC/CmC,MAAM,CAACe,OAAO,CAAIpB,CAAC,EAAKmB,MAAM,CAACnB,CAAC,CAAC,CACjCK,MAAM,CAACU,UAAU,CAACb,IAAI,CAAC,CACzB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAmB,eAAe,CAAIC,SAAS,EAAK,CACrC,GAAI,CAACzH,KAAK,CAACC,OAAO,CAACwH,SAAS,CAAC,CAAE,MAAO,EAAE,CAExC,MAAO,CAAAA,SAAS,CACbpH,MAAM,CAACqH,CAAC,EAAIA,CAAC,EAAI,MAAO,CAAAA,CAAC,GAAK,QAAQ,CAAC,CACvCrH,MAAM,CAACqH,CAAC,EAAI,CACX,KAAM,CAAAC,YAAY,CAAGD,CAAC,CAACE,QAAQ,EAAI,EAAE,CACrC,MAAO,CAACD,YAAY,CAACpH,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,UAAU,CAAC,EAChD,CAACmH,YAAY,CAACpH,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,YAAY,CAAC,CAC3D,CAAC,CAAC,CACDN,GAAG,CAACwH,CAAC,GAAK,CACTE,QAAQ,CAAEF,CAAC,CAACE,QAAQ,CAAC7E,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC3C,IAAI,CAAC,CAAC,CAACsF,OAAO,CAAC,WAAW,CAAE,EAAE,CAAC,CAC3EmC,UAAU,CAAEH,CAAC,CAACG,UAAU,EAAI,QAC9B,CAAC,CAAC,CAAC,CACP,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAA3B,CAAC,EAAK,CAChCA,CAAC,CAAC4B,cAAc,CAAC,CAAC,CAClB,GAAI,CAAC9D,UAAU,EAAI,CAACE,WAAW,CAAE,CAC/B6D,KAAK,CAAC,2BAA2B,CAAC,CAClC,OACF,CAEAxD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAA3D,UAAU,CAAG,KAAM,CAAAsG,cAAc,CAAClD,UAAU,CAAC,CACnD,KAAM,CAAAnD,kBAAkB,CAAG,KAAM,CAAAqG,cAAc,CAAChD,WAAW,CAAC,CAE5D,KAAM,CAAA8D,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGzI,OAAO,YAAY,CAAE,CACnD0I,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACZ,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE1H,UAAU,CAAEC,kBAAmB,CAAC,CACzD,CAAC,CAAC,CAEF,GAAI,CAACmH,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,KAAO,CAAC,CAAC,CAAC,CAAC,CACzD,KAAM,CAAAC,YAAY,CAAGH,SAAS,CAACI,MAAM,EAAI,uBAAuBZ,QAAQ,CAACa,MAAM,EAAE,CAEjF;AACA,GAAIb,QAAQ,CAACa,MAAM,GAAK,GAAG,CAAE,CAC3B,KAAM,IAAI,CAAAC,KAAK,CAAC,8DAA8D,CAAC,CACjF,CAAC,IAAM,IAAId,QAAQ,CAACa,MAAM,GAAK,GAAG,CAAE,CAClC,KAAM,IAAI,CAAAC,KAAK,CAACH,YAAY,CAAC,CAC/B,CAAC,IAAM,IAAIX,QAAQ,CAACa,MAAM,GAAK,GAAG,CAAE,CAClC,KAAM,IAAI,CAAAC,KAAK,CAAC,iBAAiBH,YAAY,EAAE,CAAC,CAClD,CAEA,KAAM,IAAI,CAAAG,KAAK,CAACH,YAAY,CAAC,CAC/B,CAEA,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAf,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClCpG,OAAO,CAAC2G,GAAG,CAAC,8BAA8B,CAAED,IAAI,CAAC,CAEjD;AACA,KAAM,CAAAE,gBAAgB,CAAGtI,mBAAmB,CAACC,UAAU,CAAEC,kBAAkB,CAAC,CAE5E,KAAM,CAAAqI,gBAAgB,CAAG,CACvBjH,KAAK,CAAEgH,gBAAgB,CAAChH,KAAK,CAC7BtC,aAAa,CAAE,EAAE,CACjBD,eAAe,CAAE,EAAE,CACnBE,QAAQ,CAAE,EAAE,CACZuC,SAAS,CAAE8G,gBAAgB,CAAC9G,SAC9B,CAAC,CAED,GAAI4G,IAAI,CAACI,WAAW,CAAE,CACpB;AACA,KAAM,CAAAC,oBAAoB,CAAGL,IAAI,CAACI,WAAW,CAACrG,KAAK,CAAC,qCAAqC,CAAC,CAAC,CAAC,CAAC,CAC7F,GAAIsG,oBAAoB,CAAE,CACxB,KAAM,CAAAC,UAAU,CAAGD,oBAAoB,CAACtG,KAAK,CAAC,sDAAsD,CAAC,CAAC,CAAC,CAAC,CACxG,KAAM,CAAAwG,eAAe,CAAGD,UAAU,CAC/BvG,KAAK,CAAC,SAAS,CAAC,CAChB7C,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAC1BC,MAAM,CAACF,KAAK,EAAIA,KAAK,EACpB,CAACA,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,gBAAgB,CAAC,EAC/C,CAACL,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,mBAAmB,CAAC,EAClD,CAACL,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAEtD2I,gBAAgB,CAACvJ,aAAa,CAAGE,eAAe,CAACyJ,eAAe,CAAC,CACnE,CAEA;AACA,KAAM,CAAAC,sBAAsB,CAAGR,IAAI,CAACI,WAAW,CAACrG,KAAK,CAAC,qCAAqC,CAAC,CAAC,CAAC,CAAC,CAC/F,GAAIyG,sBAAsB,CAAE,CAC1B,KAAM,CAAAF,UAAU,CAAGE,sBAAsB,CAACzG,KAAK,CAAC,uEAAuE,CAAC,CAAC,CAAC,CAAC,CAC3H,KAAM,CAAAwG,eAAe,CAAGD,UAAU,CAC/BvG,KAAK,CAAC,SAAS,CAAC,CAChB7C,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC,CAC1BC,MAAM,CAACF,KAAK,EAAIA,KAAK,EACpB,CAACA,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EACjD,CAACL,KAAK,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,CAErD2I,gBAAgB,CAACxJ,eAAe,CAAGG,eAAe,CAACyJ,eAAe,CAAC,CACrE,CAEA,KAAM,CAAAE,eAAe,CAAGT,IAAI,CAACI,WAAW,CAACrG,KAAK,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC,CACvF,GAAI0G,eAAe,CAAE,CACnBN,gBAAgB,CAACtJ,QAAQ,CAAGY,iBAAiB,CAACgJ,eAAe,CAC1D1G,KAAK,CAAC,SAAS,CAAC,CAChB7C,GAAG,CAACwJ,IAAI,EAAIA,IAAI,CAACtJ,IAAI,CAAC,CAAC,CAAC,CACxBC,MAAM,CAACqJ,IAAI,EAAIA,IAAI,EAAI,CAACA,IAAI,CAACnJ,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,wBAAwB,CAAC,EAAI,CAACkJ,IAAI,CAACnJ,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAC1HmJ,IAAI,CAAC,IAAI,CAAC,CAAC,CAChB,CACF,CAEA;AACA,GAAI,CAACR,gBAAgB,CAACxJ,eAAe,CAACW,MAAM,CAAE,CAC5C6I,gBAAgB,CAACxJ,eAAe,CAAGD,iBAAiB,CAACC,eAAe,CACtE,CACA,GAAI,CAACwJ,gBAAgB,CAACvJ,aAAa,CAACU,MAAM,CAAE,CAC1C6I,gBAAgB,CAACvJ,aAAa,CAAGF,iBAAiB,CAACE,aAAa,CAClE,CACA,GAAI,CAACuJ,gBAAgB,CAACtJ,QAAQ,CAAE,CAC9BsJ,gBAAgB,CAACtJ,QAAQ,CAAGH,iBAAiB,CAACG,QAAQ,CACxD,CAEAyE,SAAS,CAAC,CACR6E,gBAAgB,CAChBS,mBAAmB,CAAEpC,eAAe,CAACwB,IAAI,CAACY,mBAAmB,CAC/D,CAAC,CAAC,CAEF;AACA,GAAIZ,IAAI,CAACY,mBAAmB,EAAIZ,IAAI,CAACY,mBAAmB,CAACtJ,MAAM,CAAG,CAAC,CAAE,CACnEgC,OAAO,CAAC2G,GAAG,CAAC,4CAA4C,CAAC,CAC3D,CAEA7D,YAAY,CAAC,MAAM,CAAC,CAEtB,CAAE,MAAO/C,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtC,KAAM,CAAAuG,YAAY,CAAGvG,KAAK,CAACwH,OAAO,EAAI,mDAAmD,CAEzF,GAAIjB,YAAY,CAACpI,QAAQ,CAAC,YAAY,CAAC,CAAE,CACvCwH,KAAK,CAAC,+NAA+N,CAAC,CACxO,CAAC,IAAM,IAAIY,YAAY,CAACpI,QAAQ,CAAC,OAAO,CAAC,CAAE,CACzCwH,KAAK,CAAC,6IAA6I,CAAC,CACtJ,CAAC,IAAM,CACLA,KAAK,CAACY,YAAY,CAAC,CACrB,CACF,CAAC,OAAS,CACRpE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAsF,sBAAsB,CAAG,KAAAA,CAAOC,aAAa,CAAE9B,QAAQ,GAAK,CAChE,GAAI,EAACA,QAAQ,SAARA,QAAQ,WAARA,QAAQ,CAAE7H,IAAI,CAAC,CAAC,EAAE,CACrB4H,KAAK,CAAC,6CAA6C,CAAC,CACpD,OACF,CAEAhD,oBAAoB,CAACuB,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACwD,aAAa,EAAG,IAAK,CAAC,CAAC,CAAC,CAClE,GAAI,CACF,KAAM,CAAAlJ,UAAU,CAAG,KAAM,CAAAsG,cAAc,CAAClD,UAAU,CAAC,CACnD,KAAM,CAAAnD,kBAAkB,CAAG,KAAM,CAAAqG,cAAc,CAAChD,WAAW,CAAC,CAE5D,KAAM,CAAC0D,UAAU,CAAEmC,KAAK,CAAC,CAAGD,aAAa,CAAChH,KAAK,CAAC,GAAG,CAAC,CAEpD,KAAM,CAAA6E,QAAQ,CAAGvD,MAAM,CAACuF,mBAAmB,CACxCvJ,MAAM,CAACqH,CAAC,EAAIA,CAAC,CAACG,UAAU,GAAKA,UAAU,CAAC,CAACmC,KAAK,CAAC,CAElD,GAAI,CAACpC,QAAQ,CAAE,CACb,KAAM,IAAI,CAAAmB,KAAK,CAAC,oBAAoB,CAAC,CACvC,CAEA,KAAM,CAAAkB,YAAY,CAAG,KAAM,CAAA/B,KAAK,CAAC,GAAGzI,OAAO,eAAe,CAAE,CAC1D0I,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACZ,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBX,QAAQ,CAAEA,QAAQ,CAACA,QAAQ,CAC3BsC,MAAM,CAAEjC,QAAQ,CAChBpH,UAAU,CACVC,kBACF,CAAC,CACH,CAAC,CAAC,CAEF,GAAI,CAACmJ,YAAY,CAACzB,EAAE,CAAE,CACpB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAwB,YAAY,CAACvJ,IAAI,CAAC,CAAC,CAC3C,KAAM,IAAI,CAAAqI,KAAK,CAACN,SAAS,EAAI,0BAA0B,CAAC,CAC1D,CAEA,KAAM,CAAA0B,QAAQ,CAAG,KAAM,CAAAF,YAAY,CAACvB,IAAI,CAAC,CAAC,CAE1CpG,OAAO,CAAC2G,GAAG,CAAC,+CAA+Cc,aAAa,GAAG,CAAEI,QAAQ,CAAC,CAAE;AAExF,KAAM,CAAAC,mBAAmB,CAAGD,QAAQ,CAACE,UAAU,CAC5CtH,KAAK,CAAC,IAAI,CAAC,CACX1C,MAAM,CAACqJ,IAAI,EAAIA,IAAI,CAACtJ,IAAI,CAAC,CAAC,CAAC,CAC3BuJ,IAAI,CAAC,IAAI,CAAC,CAEb7E,cAAc,CAACyB,IAAI,GAAK,CACtB,GAAGA,IAAI,CACP,CAACwD,aAAa,EAAGK,mBACnB,CAAC,CAAC,CAAC,CAEL,CAAE,MAAO/H,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC2F,KAAK,CAAC,gDAAgD,CAAC,CACzD,CAAC,OAAS,CACRhD,oBAAoB,CAACuB,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACwD,aAAa,EAAG,KAAM,CAAC,CAAC,CAAC,CACrE,CACF,CAAC,CAED,KAAM,CAAAO,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCpF,cAAc,CAAC,IAAI,CAAC,CACpB,GAAI,CACF,KAAM,CAAArE,UAAU,CAAG,KAAM,CAAAsG,cAAc,CAAClD,UAAU,CAAC,CACnD,KAAM,CAAAnD,kBAAkB,CAAG,KAAM,CAAAqG,cAAc,CAAChD,WAAW,CAAC,CAE5D,KAAM,CAAA8D,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGzI,OAAO,qBAAqB,CAAE,CAC5D0I,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACZ,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB1H,UAAU,CACVC,kBACF,CAAC,CACH,CAAC,CAAC,CAEF,GAAI,CAACmH,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAO,KAAK,CAAC,uBAAuBd,QAAQ,CAACa,MAAM,EAAE,CAAC,CAC3D,CAEA,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAf,QAAQ,CAACS,IAAI,CAAC,CAAC,CAElCpG,OAAO,CAAC2G,GAAG,CAAC,uCAAuC,CAAED,IAAI,CAAC,CAAE;AAE5D,KAAM,CAAAuB,YAAY,CAAG/C,eAAe,CAACwB,IAAI,CAACwB,oBAAoB,CAAC,CAE/DlG,SAAS,CAACiC,IAAI,GAAK,CACjB,GAAGA,IAAI,CACPqD,mBAAmB,CAAE,CACnB,GAAGrD,IAAI,CAACqD,mBAAmB,CAC3B,GAAGW,YAAY,CAEnB,CAAC,CAAC,CAAC,CAEL,CAAE,MAAOlI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrD2F,KAAK,CAAC,wDAAwD,CAAC,CACjE,CAAC,OAAS,CACR9C,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED,mBACE5F,KAAA,QAAKmL,SAAS,CAAC,mBAAmB,CAAArH,QAAA,eAEhC9D,KAAA,QAAKmL,SAAS,CAAC,eAAe,CAAArH,QAAA,eAC5B9D,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAEA,CAAA,GAAM1G,QAAQ,CAAC,GAAG,CAAE,CAAAZ,QAAA,eAC3DhE,IAAA,QAAKuL,GAAG,CAAEzL,IAAK,CAAC0L,GAAG,CAAC,mBAAmB,CAACH,SAAS,CAAC,WAAW,CAAE,CAAC,cAChEnL,KAAA,OAAImL,SAAS,CAAC,OAAO,CAAArH,QAAA,EAAC,SACb,cAAAhE,IAAA,SAAMqL,SAAS,CAAC,WAAW,CAAArH,QAAA,CAAC,OAAK,CAAM,CAAC,EAC7C,CAAC,EACF,CAAC,cACNhE,IAAA,QAAKqL,SAAS,CAAC,WAAW,CAAArH,QAAA,cACxB9D,KAAA,QAAKmL,SAAS,CAAC,wBAAwB,CAAArH,QAAA,eACrC9D,KAAA,QACEmL,SAAS,CAAC,cAAc,CACxBC,OAAO,CAAEA,CAAA,GAAMlF,gBAAgB,CAAC,CAACD,aAAa,CAAE,CAAAnC,QAAA,eAEhDhE,IAAA,QACEuL,GAAG,CAAE,CAAAtH,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEwH,QAAQ,GAAI,oCAAoC,CAAAxH,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEyH,WAAW,IAAIzH,WAAW,SAAXA,WAAW,kBAAAG,kBAAA,CAAXH,WAAW,CAAE0H,KAAK,UAAAvH,kBAAA,iBAAlBA,kBAAA,CAAoBT,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAClI6H,GAAG,CAAC,SAAS,CACbH,SAAS,CAAC,aAAa,CACxB,CAAC,cACFrL,IAAA,SAAMqL,SAAS,CAAC,WAAW,CAAArH,QAAA,CACxB,CAAAC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEyH,WAAW,IAAIzH,WAAW,SAAXA,WAAW,kBAAAI,mBAAA,CAAXJ,WAAW,CAAE0H,KAAK,UAAAtH,mBAAA,iBAAlBA,mBAAA,CAAoBV,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAC1D,CAAC,EACJ,CAAC,CACLwC,aAAa,eACZnG,IAAA,QAAKqL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,cAC/BhE,IAAA,WACEqL,SAAS,CAAC,YAAY,CACtBC,OAAO,CAAEjF,YAAa,CAAArC,QAAA,CACvB,QAED,CAAQ,CAAC,CACN,CACN,EACE,CAAC,CACH,CAAC,EACH,CAAC,cAGNhE,IAAA,SAAMqL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,cAC9B9D,KAAA,QAAKmL,SAAS,CAAC,mBAAmB,CAAArH,QAAA,eAEhC9D,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC7B9D,KAAA,QAAKmL,SAAS,CAAC,aAAa,CAAArH,QAAA,eAC1BhE,IAAA,OAAIqL,SAAS,CAAC,eAAe,CAAArH,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACnDhE,IAAA,MAAGqL,SAAS,CAAC,UAAU,CAAArH,QAAA,CAAC,wDAAsD,CAAG,CAAC,EAC/E,CAAC,cACNhE,IAAA,QAAKqL,SAAS,CAAC,cAAc,CAAArH,QAAA,cAC3B9D,KAAA,SAAMmL,SAAS,CAAC,aAAa,CAACO,QAAQ,CAAElD,YAAa,CAAA1E,QAAA,eAEnD9D,KAAA,QAAKmL,SAAS,CAAC,cAAc,CAAArH,QAAA,eAC3BhE,IAAA,UAAOqL,SAAS,CAAC,cAAc,CAAArH,QAAA,CAAC,eAAa,CAAO,CAAC,cACrDhE,IAAA,QAAKqL,SAAS,CAAC,YAAY,CAAArH,QAAA,cACzB9D,KAAA,UAAOmL,SAAS,CAAC,aAAa,CAAArH,QAAA,eAC5B9D,KAAA,QAAKmL,SAAS,CAAC,oBAAoB,CAAArH,QAAA,eACjChE,IAAA,QAAKqL,SAAS,CAAC,aAAa,CAACQ,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAA/H,QAAA,cAChFhE,IAAA,SAAMgM,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACC,CAAC,CAAC,uFAAuF,CAAE,CAAC,CAC5J,CAAC,cACNnM,IAAA,MAAGqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CACvBa,UAAU,CAAGA,UAAU,CAACuH,IAAI,CAAG,kCAAkC,CACjE,CAAC,cACJpM,IAAA,MAAGqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CAAC,8BAE3B,CAAG,CAAC,EACD,CAAC,cACNhE,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXyD,SAAS,CAAC,QAAQ,CAClBgB,MAAM,CAAC,sBAAsB,CAC7BC,QAAQ,CAAGvF,CAAC,EAAKD,gBAAgB,CAACC,CAAC,CAAE,QAAQ,CAAE,CAChD,CAAC,EACG,CAAC,CACL,CAAC,CACL1B,cAAc,CAAC1D,MAAM,CAAG,CAAC,eACxB3B,IAAA,QAAKqL,SAAS,CAAC,cAAc,CAAArH,QAAA,cAC3BhE,IAAA,QACEqL,SAAS,CAAC,eAAe,CACzBkB,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGnH,cAAc,CAAC1D,MAAM,GAAI,CAAE,CAC1C,CAAC,CACJ,CACN,EACE,CAAC,cAGNzB,KAAA,QAAKmL,SAAS,CAAC,cAAc,CAAArH,QAAA,eAC3BhE,IAAA,UAAOqL,SAAS,CAAC,cAAc,CAAArH,QAAA,CAAC,wBAAsB,CAAO,CAAC,cAC9DhE,IAAA,QAAKqL,SAAS,CAAC,YAAY,CAAArH,QAAA,cACzB9D,KAAA,UAAOmL,SAAS,CAAC,aAAa,CAAArH,QAAA,eAC5B9D,KAAA,QAAKmL,SAAS,CAAC,oBAAoB,CAAArH,QAAA,eACjChE,IAAA,QAAKqL,SAAS,CAAC,aAAa,CAACQ,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAA/H,QAAA,cAChFhE,IAAA,SAAMgM,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACC,CAAC,CAAC,uFAAuF,CAAE,CAAC,CAC5J,CAAC,cACNnM,IAAA,MAAGqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CACvBe,WAAW,CAAGA,WAAW,CAACqH,IAAI,CAAG,kCAAkC,CACnE,CAAC,cACJpM,IAAA,MAAGqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CAAC,8BAE3B,CAAG,CAAC,EACD,CAAC,cACNhE,IAAA,UACE4H,IAAI,CAAC,MAAM,CACXyD,SAAS,CAAC,QAAQ,CAClBgB,MAAM,CAAC,sBAAsB,CAC7BC,QAAQ,CAAGvF,CAAC,EAAKD,gBAAgB,CAACC,CAAC,CAAE,SAAS,CAAE,CACjD,CAAC,EACG,CAAC,CACL,CAAC,CACL1B,cAAc,CAACzD,OAAO,CAAG,CAAC,eACzB5B,IAAA,QAAKqL,SAAS,CAAC,cAAc,CAAArH,QAAA,cAC3BhE,IAAA,QACEqL,SAAS,CAAC,eAAe,CACzBkB,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGnH,cAAc,CAACzD,OAAO,GAAI,CAAE,CAC3C,CAAC,CACJ,CACN,EACE,CAAC,cAEN5B,IAAA,QAAKqL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,cAC/BhE,IAAA,WACE4H,IAAI,CAAC,QAAQ,CACb6E,QAAQ,CAAEtH,OAAO,EAAI,CAACN,UAAU,EAAI,CAACE,WAAY,CACjDsG,SAAS,CAAC,YAAY,CACtBqB,YAAY,CAAEA,CAAA,GAAMxG,YAAY,CAAC,IAAI,CAAE,CACvCyG,YAAY,CAAEA,CAAA,GAAMzG,YAAY,CAAC,KAAK,CAAE,CAAAlC,QAAA,CAEvCmB,OAAO,cACNjF,KAAA,CAAAE,SAAA,EAAA4D,QAAA,eACE9D,KAAA,QAAKmL,SAAS,CAAC,iBAAiB,CAACU,OAAO,CAAC,WAAW,CAAA/H,QAAA,eAClDhE,IAAA,WAAQqL,SAAS,CAAC,YAAY,CAACuB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAAChB,MAAM,CAAC,cAAc,CAACI,WAAW,CAAC,GAAG,CAAS,CAAC,cACrGlM,IAAA,SAAMqL,SAAS,CAAC,YAAY,CAACQ,IAAI,CAAC,cAAc,CAACM,CAAC,CAAC,iHAAiH,CAAO,CAAC,EACzK,CAAC,eAER,EAAE,CAAC,cAEHjM,KAAA,CAAAE,SAAA,EAAA4D,QAAA,EAAE,gBAEA,cAAAhE,IAAA,SAAMqL,SAAS,CAAE,SAASpF,SAAS,CAAG,aAAa,CAAG,EAAE,EAAG,CAAAjC,QAAA,CAAC,QAAC,CAAM,CAAC,EACpE,CACH,CACK,CAAC,CACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CAGLiB,MAAM,eACL/E,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC7B9D,KAAA,QAAKmL,SAAS,CAAC,aAAa,CAAArH,QAAA,eAC1BhE,IAAA,OAAIqL,SAAS,CAAC,eAAe,CAAArH,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACnDhE,IAAA,MAAGqL,SAAS,CAAC,UAAU,CAAArH,QAAA,CAAC,6DAA2D,CAAG,CAAC,EACpF,CAAC,cACNhE,IAAA,QAAKqL,SAAS,CAAC,cAAc,CAAArH,QAAA,cAC3B9D,KAAA,QAAKmL,SAAS,CAAC,mBAAmB,CAAArH,QAAA,eAEhChE,IAAA,QAAKqL,SAAS,CAAC,eAAe,CAAArH,QAAA,cAC5BhE,IAAA,QAAKqL,SAAS,CAAC,qBAAqB,CAAArH,QAAA,CAAC,2BAAyB,CAAK,CAAC,CACjE,CAAC,cAGN9D,KAAA,QAAKmL,SAAS,CAAC,eAAe,CAAArH,QAAA,eAC5B9D,KAAA,QAAKmL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,eAC/B9D,KAAA,QAAKmL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,eAC/B9D,KAAA,QAAA8D,QAAA,eACEhE,IAAA,OAAIqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CAAC,aAAW,CAAI,CAAC,cAC5ChE,IAAA,MAAGqL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,CAAC,qCAAmC,CAAG,CAAC,EAClE,CAAC,cACN9D,KAAA,QAAKmL,SAAS,CAAC,mBAAmB,CAAArH,QAAA,EAC/B,EAAAM,qBAAA,CAAAW,MAAM,CAAC8E,gBAAgB,UAAAzF,qBAAA,iBAAvBA,qBAAA,CAAyBxB,KAAK,GAAI,CAAC,CAAC,GACvC,EAAK,CAAC,EACH,CAAC,CACL,EAAAyB,sBAAA,CAAAU,MAAM,CAAC8E,gBAAgB,UAAAxF,sBAAA,iBAAvBA,sBAAA,CAAyBvB,SAAS,gBACjC9C,KAAA,QAAKmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,eAC9B9D,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC7BhE,IAAA,SAAMqL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,CAAC,cAAY,CAAM,CAAC,cACrDhE,IAAA,QAAKqL,SAAS,CAAC,eAAe,CAAArH,QAAA,cAC5BhE,IAAA,QACEqL,SAAS,CAAC,gBAAgB,CAC1BkB,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGvH,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAACrC,MAAM,GAAI,CAAE,CAC7D,CAAC,CACJ,CAAC,cACNT,KAAA,SAAMmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,EAAEiB,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAACrC,MAAM,CAAC,GAAC,EAAM,CAAC,EACjF,CAAC,cACNT,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC7BhE,IAAA,SAAMqL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,CAAC,YAAU,CAAM,CAAC,cACnDhE,IAAA,QAAKqL,SAAS,CAAC,eAAe,CAAArH,QAAA,cAC5BhE,IAAA,QACEqL,SAAS,CAAC,gBAAgB,CAC1BkB,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGvH,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAAClB,UAAU,GAAI,CAAE,CACjE,CAAC,CACJ,CAAC,cACN5B,KAAA,SAAMmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,EAAEiB,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAAClB,UAAU,CAAC,GAAC,EAAM,CAAC,EACrF,CAAC,cACN5B,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC7BhE,IAAA,SAAMqL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,CAAC,WAAS,CAAM,CAAC,cAClDhE,IAAA,QAAKqL,SAAS,CAAC,eAAe,CAAArH,QAAA,cAC5BhE,IAAA,QACEqL,SAAS,CAAC,gBAAgB,CAC1BkB,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGvH,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAACjB,SAAS,GAAI,CAAE,CAChE,CAAC,CACJ,CAAC,cACN7B,KAAA,SAAMmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,EAAEiB,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAACjB,SAAS,CAAC,GAAC,EAAM,CAAC,EACpF,CAAC,cACN7B,KAAA,QAAKmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC7BhE,IAAA,SAAMqL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,CAAC,UAAQ,CAAM,CAAC,cACjDhE,IAAA,QAAKqL,SAAS,CAAC,eAAe,CAAArH,QAAA,cAC5BhE,IAAA,QACEqL,SAAS,CAAC,gBAAgB,CAC1BkB,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAGvH,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAAChB,QAAQ,GAAI,CAAE,CAC/D,CAAC,CACJ,CAAC,cACN9B,KAAA,SAAMmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,EAAEiB,MAAM,CAAC8E,gBAAgB,CAAC/G,SAAS,CAAChB,QAAQ,CAAC,GAAC,EAAM,CAAC,EACnF,CAAC,EACH,CACN,EACE,CAAC,CAEL,EAAAwC,sBAAA,CAAAS,MAAM,CAAC8E,gBAAgB,UAAAvF,sBAAA,iBAAvBA,sBAAA,CAAyBjE,eAAe,GAAI0E,MAAM,CAAC8E,gBAAgB,CAACxJ,eAAe,CAACW,MAAM,CAAG,CAAC,eAC7FhB,KAAA,QAAKmL,SAAS,CAAC,iCAAiC,CAAArH,QAAA,eAC9C9D,KAAA,OAAImL,SAAS,CAAC,cAAc,CAAArH,QAAA,eAC1BhE,IAAA,SAAMqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CAAC,QAAC,CAAM,CAAC,mBAExC,EAAI,CAAC,cACLhE,IAAA,QAAKqL,SAAS,CAAC,uBAAuB,CAAArH,QAAA,CACnCiB,MAAM,CAAC8E,gBAAgB,CAACxJ,eAAe,CAACO,GAAG,CAAC,CAACC,KAAK,CAAE6J,KAAK,gBACxD1K,KAAA,QAAiBmL,SAAS,CAAC,YAAY,CAAArH,QAAA,eACrChE,IAAA,SAAMqL,SAAS,CAAC,cAAc,CAAArH,QAAA,CAAC,QAAC,CAAM,CAAC,cACvChE,IAAA,SAAMqL,SAAS,CAAC,YAAY,CAAArH,QAAA,CAAEjD,KAAK,CAACuF,OAAO,CAAC,aAAa,CAAE,EAAE,CAAC,CAAO,CAAC,GAF9DsE,KAGL,CACN,CAAC,CACC,CAAC,EACH,CACN,CAEA,EAAAnG,sBAAA,CAAAQ,MAAM,CAAC8E,gBAAgB,UAAAtF,sBAAA,iBAAvBA,sBAAA,CAAyBjE,aAAa,GAAIyE,MAAM,CAAC8E,gBAAgB,CAACvJ,aAAa,CAACU,MAAM,CAAG,CAAC,eACzFhB,KAAA,QAAKmL,SAAS,CAAC,+BAA+B,CAAArH,QAAA,eAC5C9D,KAAA,OAAImL,SAAS,CAAC,cAAc,CAAArH,QAAA,eAC1BhE,IAAA,SAAMqL,SAAS,CAAC,aAAa,CAAArH,QAAA,CAAC,cAAE,CAAM,CAAC,oBAEzC,EAAI,CAAC,cACLhE,IAAA,QAAKqL,SAAS,CAAC,uBAAuB,CAAArH,QAAA,CACnCiB,MAAM,CAAC8E,gBAAgB,CAACvJ,aAAa,CAACM,GAAG,CAAC,CAACC,KAAK,CAAE6J,KAAK,gBACtD1K,KAAA,QAAiBmL,SAAS,CAAC,YAAY,CAAArH,QAAA,eACrChE,IAAA,SAAMqL,SAAS,CAAC,cAAc,CAAArH,QAAA,CAAC,QAAC,CAAM,CAAC,cACvChE,IAAA,SAAMqL,SAAS,CAAC,YAAY,CAAArH,QAAA,CAAEjD,KAAK,CAACuF,OAAO,CAAC,aAAa,CAAE,EAAE,CAAC,CAAO,CAAC,GAF9DsE,KAGL,CACN,CAAC,CACC,CAAC,EACH,CACN,CAEA,EAAAlG,sBAAA,CAAAO,MAAM,CAAC8E,gBAAgB,UAAArF,sBAAA,iBAAvBA,sBAAA,CAAyBjE,QAAQ,gBAChCP,KAAA,QAAKmL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,eAC/BhE,IAAA,OAAIqL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,CAAC,wBAAsB,CAAI,CAAC,cAC1DhE,IAAA,MAAGqL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,CAAEiB,MAAM,CAAC8E,gBAAgB,CAACtJ,QAAQ,CAAI,CAAC,EACnE,CACN,EACE,CAAC,cAGNP,KAAA,QAAKmL,SAAS,CAAC,qBAAqB,CAAArH,QAAA,eAClChE,IAAA,OAAIqL,SAAS,CAAC,eAAe,CAAArH,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAEtDhE,IAAA,QAAKqL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,CAC7B,CAAC,MAAM,CAAE,QAAQ,CAAE,MAAM,CAAC,CAAClD,GAAG,CAAC2H,UAAU,eACxCzI,IAAA,QAEEqL,SAAS,CAAE,sBAAsB5C,UAAU,IAAI1C,SAAS,GAAK0C,UAAU,CAAG,YAAY,CAAG,EAAE,EAAG,CAC9F6C,OAAO,CAAEA,CAAA,GAAMtF,YAAY,CAACyC,UAAU,CAAE,CAAAzE,QAAA,CAEvCyE,UAAU,CAACsE,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGvE,UAAU,CAACwE,KAAK,CAAC,CAAC,CAAC,EAJpDxE,UAKF,CACN,CAAC,CACC,CAAC,cAENzI,IAAA,QAAKqL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,CAC5B,CAAC,MAAM,CAAE,QAAQ,CAAE,MAAM,CAAC,CAAClD,GAAG,CAAC2H,UAAU,eACxCzI,IAAA,QAEEuM,KAAK,CAAE,CAAEW,OAAO,CAAEnH,SAAS,GAAK0C,UAAU,CAAG,OAAO,CAAG,MAAO,CAAE,CAAAzE,QAAA,CAE/DiB,MAAM,CAACuF,mBAAmB,CACxBvJ,MAAM,CAACqH,CAAC,EAAIA,CAAC,CAACG,UAAU,GAAKA,UAAU,CAAC,CACxC3H,GAAG,CAAC,CAAC0H,QAAQ,CAAEoC,KAAK,gBACnB5K,IAAA,QAAiBqL,SAAS,CAAC,eAAe,CAAArH,QAAA,cACxC9D,KAAA,QAAKmL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,eAC/B9D,KAAA,QAAKmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,eAC9B9D,KAAA,SAAMmL,SAAS,CAAE,wBAAwB5C,UAAU,EAAG,CAAAzE,QAAA,EAAC,GACpD,CAAC4G,KAAK,CAAG,CAAC,EACP,CAAC,cACP5K,IAAA,OAAIqL,SAAS,CAAC,eAAe,CAAArH,QAAA,CAAEwE,QAAQ,CAACA,QAAQ,CAAK,CAAC,EACnD,CAAC,cAENtI,KAAA,QAAKmL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,eAC9BhE,IAAA,aACEqL,SAAS,CAAC,iBAAiB,CAC3B8B,WAAW,CAAC,0BAA0B,CACtCC,IAAI,CAAC,GAAG,CACRC,KAAK,CAAE9H,iBAAiB,CAAC,GAAGkD,UAAU,IAAImC,KAAK,EAAE,CAAC,EAAI,EAAG,CACzD0B,QAAQ,CAAGvF,CAAC,EAAKvB,oBAAoB,CAAC2B,IAAI,GAAK,CAC7C,GAAGA,IAAI,CACP,CAAC,GAAGsB,UAAU,IAAImC,KAAK,EAAE,EAAG7D,CAAC,CAACN,MAAM,CAAC4G,KACvC,CAAC,CAAC,CAAE,CACL,CAAC,cACFrN,IAAA,WACEqL,SAAS,CAAC,eAAe,CACzBC,OAAO,CAAEA,CAAA,GAAMZ,sBAAsB,CAAC,GAAGjC,UAAU,IAAImC,KAAK,EAAE,CAC5DrF,iBAAiB,CAAC,GAAGkD,UAAU,IAAImC,KAAK,EAAE,CAAC,CAAE,CAC/C6B,QAAQ,CAAE,CAAClH,iBAAiB,CAAC,GAAGkD,UAAU,IAAImC,KAAK,EAAE,CAAC,EACpDjF,iBAAiB,CAAC,GAAG8C,UAAU,IAAImC,KAAK,EAAE,CAAE,CAAA5G,QAAA,CAE7C2B,iBAAiB,CAAC,GAAG8C,UAAU,IAAImC,KAAK,EAAE,CAAC,cAC1C1K,KAAA,CAAAE,SAAA,EAAA4D,QAAA,eACE9D,KAAA,QAAKmL,SAAS,CAAC,iBAAiB,CAACU,OAAO,CAAC,WAAW,CAAA/H,QAAA,eAClDhE,IAAA,WAAQqL,SAAS,CAAC,YAAY,CAACuB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAAChB,MAAM,CAAC,cAAc,CAACI,WAAW,CAAC,GAAG,CAAS,CAAC,cACrGlM,IAAA,SAAMqL,SAAS,CAAC,YAAY,CAACQ,IAAI,CAAC,cAAc,CAACM,CAAC,CAAC,iHAAiH,CAAO,CAAC,EACzK,CAAC,gBAER,EAAE,CAAC,cAEHnM,IAAA,CAAAI,SAAA,EAAA4D,QAAA,CAAE,eAEF,CAAE,CACH,CACK,CAAC,CAERyB,WAAW,CAAC,GAAGgD,UAAU,IAAImC,KAAK,EAAE,CAAC,eACpC1K,KAAA,QAAKmL,SAAS,CAAC,eAAe,CAAArH,QAAA,eAC5BhE,IAAA,OAAIqL,SAAS,CAAC,iBAAiB,CAAArH,QAAA,CAAC,aAAW,CAAI,CAAC,cAChDhE,IAAA,QAAKqL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,CAC9ByB,WAAW,CAAC,GAAGgD,UAAU,IAAImC,KAAK,EAAE,CAAC,CAACjH,KAAK,CAAC,IAAI,CAAC,CAAC7C,GAAG,CAAC,CAACwJ,IAAI,CAAEgD,MAAM,GAAK,CACvE,KAAM,CAAAC,WAAW,CAAGjD,IAAI,CAACtJ,IAAI,CAAC,CAAC,CAE/B,GAAIuM,WAAW,CAACC,UAAU,CAAC,gBAAgB,CAAC,CAAE,CAC5C,KAAM,CAAA1K,KAAK,CAAGyK,WAAW,CAAC5J,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC3C,IAAI,CAAC,CAAC,CAC9C,mBACEhB,IAAA,QAAkBqL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,CAAElB,KAAK,EAAzCwK,MAA+C,CAAC,CAE9D,CAEA,GAAIC,WAAW,GAAK,YAAY,CAAE,CAChC,mBACEvN,IAAA,QAAkBqL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,cAC5ChE,IAAA,OAAIqL,SAAS,CAAC,2CAA2C,CAAArH,QAAA,CAAC,wBAAY,CAAI,CAAC,EADnEsJ,MAEL,CAAC,CAEV,CAEA,GAAIC,WAAW,GAAK,wBAAwB,CAAE,CAC5C,mBACEvN,IAAA,QAAkBqL,SAAS,CAAC,kBAAkB,CAAArH,QAAA,cAC5ChE,IAAA,OAAIqL,SAAS,CAAC,8CAA8C,CAAArH,QAAA,CAAC,+BAAmB,CAAI,CAAC,EAD7EsJ,MAEL,CAAC,CAEV,CAEA,GAAIC,WAAW,CAACC,UAAU,CAAC,GAAG,CAAC,CAAE,CAC/B,mBACEtN,KAAA,QAAkBmL,SAAS,CAAC,gBAAgB,CAAArH,QAAA,eAC1ChE,IAAA,SAAMqL,SAAS,CAAC,uBAAuB,CAAArH,QAAA,CAAC,QAAC,CAAM,CAAC,cAChDhE,IAAA,SAAMqL,SAAS,CAAC,qBAAqB,CAAArH,QAAA,CAAEuJ,WAAW,CAACE,SAAS,CAAC,CAAC,CAAC,CAACzM,IAAI,CAAC,CAAC,CAAO,CAAC,GAFtEsM,MAGL,CAAC,CAEV,CAEA,GAAIC,WAAW,CAACC,UAAU,CAAC,YAAY,CAAC,CAAE,CACxC,mBACEtN,KAAA,QAAkBmL,SAAS,CAAC,cAAc,CAAArH,QAAA,eACxChE,IAAA,SAAMqL,SAAS,CAAC,mBAAmB,CAAArH,QAAA,CAAC,cAAE,CAAM,CAAC,cAC7ChE,IAAA,SAAAgE,QAAA,CAAOuJ,WAAW,CAACE,SAAS,CAAC,EAAE,CAAC,CAACzM,IAAI,CAAC,CAAC,CAAO,CAAC,GAFvCsM,MAGL,CAAC,CAEV,CAEA,MAAO,KAAI,CACb,CAAC,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,EAhGE1C,KAiGL,CACN,CAAC,EAxGCnC,UAyGF,CACN,CAAC,CACC,CAAC,cAENzI,IAAA,WACEqL,SAAS,CAAC,kBAAkB,CAC5BC,OAAO,CAAEJ,cAAe,CACxBuB,QAAQ,CAAE5G,WAAY,CAAA7B,QAAA,CAErB6B,WAAW,cACV3F,KAAA,CAAAE,SAAA,EAAA4D,QAAA,eACE9D,KAAA,QAAKmL,SAAS,CAAC,iBAAiB,CAACU,OAAO,CAAC,WAAW,CAAA/H,QAAA,eAClDhE,IAAA,WAAQqL,SAAS,CAAC,YAAY,CAACuB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAAChB,MAAM,CAAC,cAAc,CAACI,WAAW,CAAC,GAAG,CAAS,CAAC,cACrGlM,IAAA,SAAMqL,SAAS,CAAC,YAAY,CAACQ,IAAI,CAAC,cAAc,CAACM,CAAC,CAAC,iHAAiH,CAAO,CAAC,EACzK,CAAC,4BAER,EAAE,CAAC,cAEHnM,IAAA,CAAAI,SAAA,EAAA4D,QAAA,CAAE,qBAEF,CAAE,CACH,CACK,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,EACE,CAAC,CACF,CAAC,EACJ,CAAC,CAEV,CAEA,QAAS,CAAA0J,GAAGA,CAAA,CAAG,CACb,mBACE1N,IAAA,CAACX,MAAM,EAAA2E,QAAA,cACLhE,IAAA,CAACN,YAAY,EAAAsE,QAAA,cACX9D,KAAA,CAACZ,MAAM,EAAA0E,QAAA,eACLhE,IAAA,CAACT,KAAK,EAACoO,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE5N,IAAA,CAACH,WAAW,GAAE,CAAE,CAAE,CAAC,cAC5CG,IAAA,CAACT,KAAK,EAACoO,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAE5N,IAAA,CAACJ,IAAI,EAACiO,OAAO,CAAE,IAAK,CAAE,CAAE,CAAE,CAAC,cACzD7N,IAAA,CAACT,KAAK,EAACoO,IAAI,CAAC,SAAS,CAACC,OAAO,cAAE5N,IAAA,CAACJ,IAAI,EAACiO,OAAO,CAAE,KAAM,CAAE,CAAE,CAAE,CAAC,cAC3D7N,IAAA,CAACT,KAAK,EACJoO,IAAI,CAAC,YAAY,CACjBC,OAAO,cACL5N,IAAA,CAAC8D,YAAY,EAAAE,QAAA,cACXhE,IAAA,CAACmE,SAAS,GAAE,CAAC,CACD,CACf,CACF,CAAC,EACI,CAAC,CACG,CAAC,CACT,CAAC,CAEb,CAEA,cAAe,CAAAuJ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}